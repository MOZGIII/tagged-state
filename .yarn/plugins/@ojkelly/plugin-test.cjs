/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-test",
factory: function (require) {
var plugin=(()=>{var ou=Object.create,et=Object.defineProperty,su=Object.defineProperties,uu=Object.getOwnPropertyDescriptor,au=Object.getOwnPropertyDescriptors,lu=Object.getOwnPropertyNames,dn=Object.getOwnPropertySymbols,cu=Object.getPrototypeOf,gn=Object.prototype.hasOwnProperty,fu=Object.prototype.propertyIsEnumerable;var mn=(e,t,r)=>t in e?et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k=(e,t)=>{for(var r in t||(t={}))gn.call(t,r)&&mn(e,r,t[r]);if(dn)for(var r of dn(t))fu.call(t,r)&&mn(e,r,t[r]);return e},W=(e,t)=>su(e,au(t)),pu=e=>et(e,"__esModule",{value:!0});var Y=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var _=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),hu=(e,t)=>{for(var r in t)et(e,r,{get:t[r],enumerable:!0})},du=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of lu(t))!gn.call(e,n)&&n!=="default"&&et(e,n,{get:()=>t[n],enumerable:!(r=uu(t,n))||r.enumerable});return e},H=e=>du(pu(et(e!=null?ou(cu(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Et=_(ge=>{"use strict";ge.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;ge.find=(e,t)=>e.nodes.find(r=>r.type===t);ge.exceedsLimit=(e,t,r=1,n)=>n===!1||!ge.isInteger(e)||!ge.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;ge.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};ge.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;ge.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ge.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;ge.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);ge.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?r(o,t):o!==void 0&&t.push(o)}return t};return r(e),t}});var wt=_((wf,xn)=>{"use strict";var yn=Et();xn.exports=(e,t={})=>{let r=(n,i={})=>{let o=t.escapeInvalid&&yn.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,u="";if(n.value)return(o||s)&&yn.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let a of n.nodes)u+=r(a);return u};return r(e)}});var Cn=_((Sf,bn)=>{"use strict";bn.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var In=_((Tf,Tn)=>{"use strict";var vn=Cn(),Oe=(e,t,r)=>{if(vn(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(vn(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=k({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),u=String(n.wrap),a=e+":"+t+"="+i+o+s+u;if(Oe.cache.hasOwnProperty(a))return Oe.cache[a].result;let l=Math.min(e,t),c=Math.max(e,t);if(Math.abs(l-c)===1){let y=e+"|"+t;return n.capture?`(${y})`:n.wrap===!1?y:`(?:${y})`}let f=Sn(e)||Sn(t),p={min:e,max:t,a:l,b:c},g=[],x=[];if(f&&(p.isPadded=f,p.maxLen=String(p.max).length),l<0){let y=c<0?Math.abs(c):1;x=An(y,Math.abs(l),p,n),l=p.a=0}return c>=0&&(g=An(l,c,p,n)),p.negatives=x,p.positives=g,p.result=gu(x,g,n),n.capture===!0?p.result=`(${p.result})`:n.wrap!==!1&&g.length+x.length>1&&(p.result=`(?:${p.result})`),Oe.cache[a]=p,p.result};function gu(e,t,r){let n=Jt(e,t,"-",!1,r)||[],i=Jt(t,e,"",!1,r)||[],o=Jt(e,t,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}function mu(e,t){let r=1,n=1,i=Rn(e,r),o=new Set([t]);for(;e<=i&&i<=t;)o.add(i),r+=1,i=Rn(e,r);for(i=En(t+1,n)-1;e<i&&i<=t;)o.add(i),n+=1,i=En(t+1,n)-1;return o=[...o],o.sort(bu),o}function yu(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=xu(e,t),i=n.length,o="",s=0;for(let u=0;u<i;u++){let[a,l]=n[u];a===l?o+=a:a!=="0"||l!=="9"?o+=Cu(a,l,r):s++}return s&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function An(e,t,r,n){let i=mu(e,t),o=[],s=e,u;for(let a=0;a<i.length;a++){let l=i[a],c=yu(String(s),String(l),n),f="";if(!r.isPadded&&u&&u.pattern===c.pattern){u.count.length>1&&u.count.pop(),u.count.push(c.count[0]),u.string=u.pattern+wn(u.count),s=l+1;continue}r.isPadded&&(f=vu(l,r,n)),c.string=f+c.pattern+wn(c.count),o.push(c),s=l+1,u=c}return o}function Jt(e,t,r,n,i){let o=[];for(let s of e){let{string:u}=s;!n&&!_n(t,"string",u)&&o.push(r+u),n&&_n(t,"string",u)&&o.push(r+u)}return o}function xu(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function bu(e,t){return e>t?1:t>e?-1:0}function _n(e,t,r){return e.some(n=>n[t]===r)}function Rn(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function En(e,t){return e-e%Math.pow(10,t)}function wn(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function Cu(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function Sn(e){return/^-?(0+)\d/.test(e)}function vu(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Oe.cache={};Oe.clearCache=()=>Oe.cache={};Tn.exports=Oe});var rr=_((If,Hn)=>{"use strict";var Au=Y("util"),kn=In(),Ln=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),_u=e=>t=>e===!0?Number(t):String(t),er=e=>typeof e=="number"||typeof e=="string"&&e!=="",tt=e=>Number.isInteger(+e),tr=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},Ru=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,Eu=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},On=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},wu=(e,t)=>{e.negatives.sort((s,u)=>s<u?-1:s>u?1:0),e.positives.sort((s,u)=>s<u?-1:s>u?1:0);let r=t.capture?"":"?:",n="",i="",o;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?o=`${n}|${i}`:o=n||i,t.wrap?`(${r}${o})`:o},$n=(e,t,r,n)=>{if(r)return kn(e,t,k({wrap:!1},n));let i=String.fromCharCode(e);if(e===t)return i;let o=String.fromCharCode(t);return`[${i}-${o}]`},Nn=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return kn(e,t,r)},Pn=(...e)=>new RangeError("Invalid range arguments: "+Au.inspect(...e)),Fn=(e,t,r)=>{if(r.strictRanges===!0)throw Pn([e,t]);return[]},Su=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Tu=(e,t,r=1,n={})=>{let i=Number(e),o=Number(t);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw Pn([e,t]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,u=String(e),a=String(t),l=String(r);r=Math.max(Math.abs(r),1);let c=tr(u)||tr(a)||tr(l),f=c?Math.max(u.length,a.length,l.length):0,p=c===!1&&Ru(e,t,n)===!1,g=n.transform||_u(p);if(n.toRegex&&r===1)return $n(On(e,f),On(t,f),!0,n);let x={negatives:[],positives:[]},y=v=>x[v<0?"negatives":"positives"].push(Math.abs(v)),C=[],w=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&r>1?y(i):C.push(Eu(g(i,w),f,p)),i=s?i-r:i+r,w++;return n.toRegex===!0?r>1?wu(x,n):Nn(C,null,k({wrap:!1},n)):C},Iu=(e,t,r=1,n={})=>{if(!tt(e)&&e.length>1||!tt(t)&&t.length>1)return Fn(e,t,n);let i=n.transform||(p=>String.fromCharCode(p)),o=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),u=o>s,a=Math.min(o,s),l=Math.max(o,s);if(n.toRegex&&r===1)return $n(a,l,!1,n);let c=[],f=0;for(;u?o>=s:o<=s;)c.push(i(o,f)),o=u?o-r:o+r,f++;return n.toRegex===!0?Nn(c,null,{wrap:!1,options:n}):c},St=(e,t,r,n={})=>{if(t==null&&er(e))return[e];if(!er(e)||!er(t))return Fn(e,t,n);if(typeof r=="function")return St(e,t,1,{transform:r});if(Ln(r))return St(e,t,0,r);let i=k({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,tt(r)?tt(e)&&tt(t)?Tu(e,t,r,i):Iu(e,t,Math.max(Math.abs(r),1),i):r!=null&&!Ln(r)?Su(r,i):St(e,t,1,r)};Hn.exports=St});var Dn=_((kf,Bn)=>{"use strict";var ku=rr(),Mn=Et(),Lu=(e,t={})=>{let r=(n,i={})=>{let o=Mn.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,u=o===!0||s===!0,a=t.escapeInvalid===!0?"\\":"",l="";if(n.isOpen===!0||n.isClose===!0)return a+n.value;if(n.type==="open")return u?a+n.value:"(";if(n.type==="close")return u?a+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":u?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let c=Mn.reduce(n.nodes),f=ku(...c,W(k({},t),{wrap:!1,toRegex:!0}));if(f.length!==0)return c.length>1&&f.length>1?`(${f})`:f}if(n.nodes)for(let c of n.nodes)l+=r(c,n);return l};return r(e)};Bn.exports=Lu});var jn=_((Lf,Un)=>{"use strict";var Ou=rr(),qn=wt(),Be=Et(),$e=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Be.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let o of i)n.push($e(o,t,r));else for(let o of t)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?$e(i,o,r):i+o);return Be.flatten(n)},$u=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,u=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,u=s.queue;if(i.invalid||i.dollar){u.push($e(u.pop(),qn(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){u.push($e(u.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let f=Be.reduce(i.nodes);if(Be.exceedsLimit(...f,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let p=Ou(...f,t);p.length===0&&(p=qn(i,t)),u.push($e(u.pop(),p)),i.nodes=[];return}let a=Be.encloseBrace(i),l=i.queue,c=i;for(;c.type!=="brace"&&c.type!=="root"&&c.parent;)c=c.parent,l=c.queue;for(let f=0;f<i.nodes.length;f++){let p=i.nodes[f];if(p.type==="comma"&&i.type==="brace"){f===1&&l.push(""),l.push("");continue}if(p.type==="close"){u.push($e(u.pop(),l,a));continue}if(p.value&&p.type!=="open"){l.push($e(l.pop(),p.value));continue}p.nodes&&n(p,i)}return l};return Be.flatten(n(e))};Un.exports=$u});var Wn=_((Of,Gn)=>{"use strict";Gn.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Xn=_(($f,zn)=>{"use strict";var Nu=wt(),{MAX_LENGTH:Yn,CHAR_BACKSLASH:nr,CHAR_BACKTICK:Pu,CHAR_COMMA:Fu,CHAR_DOT:Hu,CHAR_LEFT_PARENTHESES:Mu,CHAR_RIGHT_PARENTHESES:Bu,CHAR_LEFT_CURLY_BRACE:Du,CHAR_RIGHT_CURLY_BRACE:qu,CHAR_LEFT_SQUARE_BRACKET:Kn,CHAR_RIGHT_SQUARE_BRACKET:Qn,CHAR_DOUBLE_QUOTE:Uu,CHAR_SINGLE_QUOTE:ju,CHAR_NO_BREAK_SPACE:Gu,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Wu}=Wn(),Yu=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Yn,r.maxLength):Yn;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},o=[i],s=i,u=i,a=0,l=e.length,c=0,f=0,p,g={},x=()=>e[c++],y=C=>{if(C.type==="text"&&u.type==="dot"&&(u.type="text"),u&&u.type==="text"&&C.type==="text"){u.value+=C.value;return}return s.nodes.push(C),C.parent=s,C.prev=u,u=C,C};for(y({type:"bos"});c<l;)if(s=o[o.length-1],p=x(),!(p===Wu||p===Gu)){if(p===nr){y({type:"text",value:(t.keepEscaping?p:"")+x()});continue}if(p===Qn){y({type:"text",value:"\\"+p});continue}if(p===Kn){a++;let C=!0,w;for(;c<l&&(w=x());){if(p+=w,w===Kn){a++;continue}if(w===nr){p+=x();continue}if(w===Qn&&(a--,a===0))break}y({type:"text",value:p});continue}if(p===Mu){s=y({type:"paren",nodes:[]}),o.push(s),y({type:"text",value:p});continue}if(p===Bu){if(s.type!=="paren"){y({type:"text",value:p});continue}s=o.pop(),y({type:"text",value:p}),s=o[o.length-1];continue}if(p===Uu||p===ju||p===Pu){let C=p,w;for(t.keepQuotes!==!0&&(p="");c<l&&(w=x());){if(w===nr){p+=w+x();continue}if(w===C){t.keepQuotes===!0&&(p+=w);break}p+=w}y({type:"text",value:p});continue}if(p===Du){f++;let C=u.value&&u.value.slice(-1)==="$"||s.dollar===!0;s=y({type:"brace",open:!0,close:!1,dollar:C,depth:f,commas:0,ranges:0,nodes:[]}),o.push(s),y({type:"open",value:p});continue}if(p===qu){if(s.type!=="brace"){y({type:"text",value:p});continue}let C="close";s=o.pop(),s.close=!0,y({type:C,value:p}),f--,s=o[o.length-1];continue}if(p===Fu&&f>0){if(s.ranges>0){s.ranges=0;let C=s.nodes.shift();s.nodes=[C,{type:"text",value:Nu(s)}]}y({type:"comma",value:p}),s.commas++;continue}if(p===Hu&&f>0&&s.commas===0){let C=s.nodes;if(f===0||C.length===0){y({type:"text",value:p});continue}if(u.type==="dot"){if(s.range=[],u.value+=p,u.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,u.type="text";continue}s.ranges++,s.args=[];continue}if(u.type==="range"){C.pop();let w=C[C.length-1];w.value+=u.value+p,u=w,s.ranges--;continue}y({type:"dot",value:p});continue}y({type:"text",value:p})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(v=>{v.nodes||(v.type==="open"&&(v.isOpen=!0),v.type==="close"&&(v.isClose=!0),v.nodes||(v.type="text"),v.invalid=!0)});let C=o[o.length-1],w=C.nodes.indexOf(s);C.nodes.splice(w,1,...s.nodes)}while(o.length>0);return y({type:"eos"}),i};zn.exports=Yu});var Jn=_((Nf,Vn)=>{"use strict";var Zn=wt(),Ku=Dn(),Qu=jn(),zu=Xn(),fe=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=fe.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(fe.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};fe.parse=(e,t={})=>zu(e,t);fe.stringify=(e,t={})=>typeof e=="string"?Zn(fe.parse(e,t),t):Zn(e,t);fe.compile=(e,t={})=>(typeof e=="string"&&(e=fe.parse(e,t)),Ku(e,t));fe.expand=(e,t={})=>{typeof e=="string"&&(e=fe.parse(e,t));let r=Qu(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};fe.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?fe.compile(e,t):fe.expand(e,t);Vn.exports=fe});var rt=_((Pf,ii)=>{"use strict";var Xu=Y("path"),ve="\\\\/",ei=`[^${ve}]`,we="\\.",Zu="\\+",Vu="\\?",Tt="\\/",Ju="(?=.)",ti="[^/]",ir=`(?:${Tt}|$)`,ri=`(?:^|${Tt})`,or=`${we}{1,2}${ir}`,ea=`(?!${we})`,ta=`(?!${ri}${or})`,ra=`(?!${we}{0,1}${ir})`,na=`(?!${or})`,ia=`[^.${Tt}]`,oa=`${ti}*?`,ni={DOT_LITERAL:we,PLUS_LITERAL:Zu,QMARK_LITERAL:Vu,SLASH_LITERAL:Tt,ONE_CHAR:Ju,QMARK:ti,END_ANCHOR:ir,DOTS_SLASH:or,NO_DOT:ea,NO_DOTS:ta,NO_DOT_SLASH:ra,NO_DOTS_SLASH:na,QMARK_NO_DOT:ia,STAR:oa,START_ANCHOR:ri},sa=W(k({},ni),{SLASH_LITERAL:`[${ve}]`,QMARK:ei,STAR:`${ei}*?`,DOTS_SLASH:`${we}{1,2}(?:[${ve}]|$)`,NO_DOT:`(?!${we})`,NO_DOTS:`(?!(?:^|[${ve}])${we}{1,2}(?:[${ve}]|$))`,NO_DOT_SLASH:`(?!${we}{0,1}(?:[${ve}]|$))`,NO_DOTS_SLASH:`(?!${we}{1,2}(?:[${ve}]|$))`,QMARK_NO_DOT:`[^.${ve}]`,START_ANCHOR:`(?:^|[${ve}])`,END_ANCHOR:`(?:[${ve}]|$)`}),ua={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};ii.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:ua,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Xu.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?sa:ni}}});var nt=_(ae=>{"use strict";var aa=Y("path"),la=process.platform==="win32",{REGEX_BACKSLASH:ca,REGEX_REMOVE_BACKSLASH:fa,REGEX_SPECIAL_CHARS:pa,REGEX_SPECIAL_CHARS_GLOBAL:ha}=rt();ae.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);ae.hasRegexChars=e=>pa.test(e);ae.isRegexChar=e=>e.length===1&&ae.hasRegexChars(e);ae.escapeRegex=e=>e.replace(ha,"\\$1");ae.toPosixSlashes=e=>e.replace(ca,"/");ae.removeBackslashes=e=>e.replace(fa,t=>t==="\\"?"":t);ae.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};ae.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:la===!0||aa.sep==="\\";ae.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?ae.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};ae.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};ae.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",o=`${n}(?:${e})${i}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var pi=_((Hf,fi)=>{"use strict";var oi=nt(),{CHAR_ASTERISK:sr,CHAR_AT:da,CHAR_BACKWARD_SLASH:it,CHAR_COMMA:ga,CHAR_DOT:ur,CHAR_EXCLAMATION_MARK:ar,CHAR_FORWARD_SLASH:si,CHAR_LEFT_CURLY_BRACE:lr,CHAR_LEFT_PARENTHESES:cr,CHAR_LEFT_SQUARE_BRACKET:ma,CHAR_PLUS:ya,CHAR_QUESTION_MARK:ui,CHAR_RIGHT_CURLY_BRACE:xa,CHAR_RIGHT_PARENTHESES:ai,CHAR_RIGHT_SQUARE_BRACKET:ba}=rt(),li=e=>e===si||e===it,ci=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},Ca=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,o=[],s=[],u=[],a=e,l=-1,c=0,f=0,p=!1,g=!1,x=!1,y=!1,C=!1,w=!1,v=!1,$=!1,te=!1,F=!1,ue=0,M,T,R={value:"",depth:0,isGlob:!1},Q=()=>l>=n,m=()=>a.charCodeAt(l+1),q=()=>(M=T,a.charCodeAt(++l));for(;l<n;){T=q();let re;if(T===it){v=R.backslashes=!0,T=q(),T===lr&&(w=!0);continue}if(w===!0||T===lr){for(ue++;Q()!==!0&&(T=q());){if(T===it){v=R.backslashes=!0,q();continue}if(T===lr){ue++;continue}if(w!==!0&&T===ur&&(T=q())===ur){if(p=R.isBrace=!0,x=R.isGlob=!0,F=!0,i===!0)continue;break}if(w!==!0&&T===ga){if(p=R.isBrace=!0,x=R.isGlob=!0,F=!0,i===!0)continue;break}if(T===xa&&(ue--,ue===0)){w=!1,p=R.isBrace=!0,F=!0;break}}if(i===!0)continue;break}if(T===si){if(o.push(l),s.push(R),R={value:"",depth:0,isGlob:!1},F===!0)continue;if(M===ur&&l===c+1){c+=2;continue}f=l+1;continue}if(r.noext!==!0&&(T===ya||T===da||T===sr||T===ui||T===ar)===!0&&m()===cr){if(x=R.isGlob=!0,y=R.isExtglob=!0,F=!0,T===ar&&l===c&&(te=!0),i===!0){for(;Q()!==!0&&(T=q());){if(T===it){v=R.backslashes=!0,T=q();continue}if(T===ai){x=R.isGlob=!0,F=!0;break}}continue}break}if(T===sr){if(M===sr&&(C=R.isGlobstar=!0),x=R.isGlob=!0,F=!0,i===!0)continue;break}if(T===ui){if(x=R.isGlob=!0,F=!0,i===!0)continue;break}if(T===ma){for(;Q()!==!0&&(re=q());){if(re===it){v=R.backslashes=!0,q();continue}if(re===ba){g=R.isBracket=!0,x=R.isGlob=!0,F=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&T===ar&&l===c){$=R.negated=!0,c++;continue}if(r.noparen!==!0&&T===cr){if(x=R.isGlob=!0,i===!0){for(;Q()!==!0&&(T=q());){if(T===cr){v=R.backslashes=!0,T=q();continue}if(T===ai){F=!0;break}}continue}break}if(x===!0){if(F=!0,i===!0)continue;break}}r.noext===!0&&(y=!1,x=!1);let B=a,Te="",h="";c>0&&(Te=a.slice(0,c),a=a.slice(c),f-=c),B&&x===!0&&f>0?(B=a.slice(0,f),h=a.slice(f)):x===!0?(B="",h=a):B=a,B&&B!==""&&B!=="/"&&B!==a&&li(B.charCodeAt(B.length-1))&&(B=B.slice(0,-1)),r.unescape===!0&&(h&&(h=oi.removeBackslashes(h)),B&&v===!0&&(B=oi.removeBackslashes(B)));let d={prefix:Te,input:e,start:c,base:B,glob:h,isBrace:p,isBracket:g,isGlob:x,isExtglob:y,isGlobstar:C,negated:$,negatedExtglob:te};if(r.tokens===!0&&(d.maxDepth=0,li(T)||s.push(R),d.tokens=s),r.parts===!0||r.tokens===!0){let re;for(let N=0;N<o.length;N++){let be=re?re+1:c,Ce=o[N],ce=e.slice(be,Ce);r.tokens&&(N===0&&c!==0?(s[N].isPrefix=!0,s[N].value=Te):s[N].value=ce,ci(s[N]),d.maxDepth+=s[N].depth),(N!==0||ce!=="")&&u.push(ce),re=Ce}if(re&&re+1<e.length){let N=e.slice(re+1);u.push(N),r.tokens&&(s[s.length-1].value=N,ci(s[s.length-1]),d.maxDepth+=s[s.length-1].depth)}d.slashes=o,d.parts=u}return d};fi.exports=Ca});var mi=_((Mf,gi)=>{"use strict";var It=rt(),pe=nt(),{MAX_LENGTH:kt,POSIX_REGEX_SOURCE:va,REGEX_NON_SPECIAL_CHARS:Aa,REGEX_SPECIAL_CHARS_BACKREF:_a,REPLACEMENTS:hi}=It,Ra=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(n){return e.map(i=>pe.escapeRegex(i)).join("..")}return r},De=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,di=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=hi[e]||e;let r=k({},t),n=typeof r.maxLength=="number"?Math.min(kt,r.maxLength):kt,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},s=[o],u=r.capture?"":"?:",a=pe.isWindows(t),l=It.globChars(a),c=It.extglobChars(l),{DOT_LITERAL:f,PLUS_LITERAL:p,SLASH_LITERAL:g,ONE_CHAR:x,DOTS_SLASH:y,NO_DOT:C,NO_DOT_SLASH:w,NO_DOTS_SLASH:v,QMARK:$,QMARK_NO_DOT:te,STAR:F,START_ANCHOR:ue}=l,M=A=>`(${u}(?:(?!${ue}${A.dot?y:f}).)*?)`,T=r.dot?"":C,R=r.dot?$:te,Q=r.bash===!0?M(r):F;r.capture&&(Q=`(${Q})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let m={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=pe.removePrefix(e,m),i=e.length;let q=[],B=[],Te=[],h=o,d,re=()=>m.index===i-1,N=m.peek=(A=1)=>e[m.index+A],be=m.advance=()=>e[++m.index]||"",Ce=()=>e.slice(m.index+1),ce=(A="",D=0)=>{m.consumed+=A,m.index+=D},vt=A=>{m.output+=A.output!=null?A.output:A.value,ce(A.value)},nu=()=>{let A=1;for(;N()==="!"&&(N(2)!=="("||N(3)==="?");)be(),m.start++,A++;return A%2==0?!1:(m.negated=!0,m.start++,!0)},At=A=>{m[A]++,Te.push(A)},Le=A=>{m[A]--,Te.pop()},O=A=>{if(h.type==="globstar"){let D=m.braces>0&&(A.type==="comma"||A.type==="brace"),b=A.extglob===!0||q.length&&(A.type==="pipe"||A.type==="paren");A.type!=="slash"&&A.type!=="paren"&&!D&&!b&&(m.output=m.output.slice(0,-h.output.length),h.type="star",h.value="*",h.output=Q,m.output+=h.output)}if(q.length&&A.type!=="paren"&&(q[q.length-1].inner+=A.value),(A.value||A.output)&&vt(A),h&&h.type==="text"&&A.type==="text"){h.value+=A.value,h.output=(h.output||"")+A.value;return}A.prev=h,s.push(A),h=A},_t=(A,D)=>{let b=W(k({},c[D]),{conditions:1,inner:""});b.prev=h,b.parens=m.parens,b.output=m.output;let L=(r.capture?"(":"")+b.open;At("parens"),O({type:A,value:D,output:m.output?"":x}),O({type:"paren",extglob:!0,value:be(),output:L}),q.push(b)},iu=A=>{let D=A.close+(r.capture?")":""),b;if(A.type==="negate"){let L=Q;A.inner&&A.inner.length>1&&A.inner.includes("/")&&(L=M(r)),(L!==Q||re()||/^\)+$/.test(Ce()))&&(D=A.close=`)$))${L}`),A.inner.includes("*")&&(b=Ce())&&/^\.[^\\/.]+$/.test(b)&&(D=A.close=`)${b})${L})`),A.prev.type==="bos"&&(m.negatedExtglob=!0)}O({type:"paren",extglob:!0,value:d,output:D}),Le("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let A=!1,D=e.replace(_a,(b,L,G,ne,X,Vt)=>ne==="\\"?(A=!0,b):ne==="?"?L?L+ne+(X?$.repeat(X.length):""):Vt===0?R+(X?$.repeat(X.length):""):$.repeat(G.length):ne==="."?f.repeat(G.length):ne==="*"?L?L+ne+(X?Q:""):Q:L?b:`\\${b}`);return A===!0&&(r.unescape===!0?D=D.replace(/\\/g,""):D=D.replace(/\\+/g,b=>b.length%2==0?"\\\\":b?"\\":"")),D===e&&r.contains===!0?(m.output=e,m):(m.output=pe.wrapOutput(D,m,t),m)}for(;!re();){if(d=be(),d==="\0")continue;if(d==="\\"){let b=N();if(b==="/"&&r.bash!==!0||b==="."||b===";")continue;if(!b){d+="\\",O({type:"text",value:d});continue}let L=/^\\+/.exec(Ce()),G=0;if(L&&L[0].length>2&&(G=L[0].length,m.index+=G,G%2!=0&&(d+="\\")),r.unescape===!0?d=be():d+=be(),m.brackets===0){O({type:"text",value:d});continue}}if(m.brackets>0&&(d!=="]"||h.value==="["||h.value==="[^")){if(r.posix!==!1&&d===":"){let b=h.value.slice(1);if(b.includes("[")&&(h.posix=!0,b.includes(":"))){let L=h.value.lastIndexOf("["),G=h.value.slice(0,L),ne=h.value.slice(L+2),X=va[ne];if(X){h.value=G+X,m.backtrack=!0,be(),!o.output&&s.indexOf(h)===1&&(o.output=x);continue}}}(d==="["&&N()!==":"||d==="-"&&N()==="]")&&(d=`\\${d}`),d==="]"&&(h.value==="["||h.value==="[^")&&(d=`\\${d}`),r.posix===!0&&d==="!"&&h.value==="["&&(d="^"),h.value+=d,vt({value:d});continue}if(m.quotes===1&&d!=='"'){d=pe.escapeRegex(d),h.value+=d,vt({value:d});continue}if(d==='"'){m.quotes=m.quotes===1?0:1,r.keepQuotes===!0&&O({type:"text",value:d});continue}if(d==="("){At("parens"),O({type:"paren",value:d});continue}if(d===")"){if(m.parens===0&&r.strictBrackets===!0)throw new SyntaxError(De("opening","("));let b=q[q.length-1];if(b&&m.parens===b.parens+1){iu(q.pop());continue}O({type:"paren",value:d,output:m.parens?")":"\\)"}),Le("parens");continue}if(d==="["){if(r.nobracket===!0||!Ce().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(De("closing","]"));d=`\\${d}`}else At("brackets");O({type:"bracket",value:d});continue}if(d==="]"){if(r.nobracket===!0||h&&h.type==="bracket"&&h.value.length===1){O({type:"text",value:d,output:`\\${d}`});continue}if(m.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(De("opening","["));O({type:"text",value:d,output:`\\${d}`});continue}Le("brackets");let b=h.value.slice(1);if(h.posix!==!0&&b[0]==="^"&&!b.includes("/")&&(d=`/${d}`),h.value+=d,vt({value:d}),r.literalBrackets===!1||pe.hasRegexChars(b))continue;let L=pe.escapeRegex(h.value);if(m.output=m.output.slice(0,-h.value.length),r.literalBrackets===!0){m.output+=L,h.value=L;continue}h.value=`(${u}${L}|${h.value})`,m.output+=h.value;continue}if(d==="{"&&r.nobrace!==!0){At("braces");let b={type:"brace",value:d,output:"(",outputIndex:m.output.length,tokensIndex:m.tokens.length};B.push(b),O(b);continue}if(d==="}"){let b=B[B.length-1];if(r.nobrace===!0||!b){O({type:"text",value:d,output:d});continue}let L=")";if(b.dots===!0){let G=s.slice(),ne=[];for(let X=G.length-1;X>=0&&(s.pop(),G[X].type!=="brace");X--)G[X].type!=="dots"&&ne.unshift(G[X].value);L=Ra(ne,r),m.backtrack=!0}if(b.comma!==!0&&b.dots!==!0){let G=m.output.slice(0,b.outputIndex),ne=m.tokens.slice(b.tokensIndex);b.value=b.output="\\{",d=L="\\}",m.output=G;for(let X of ne)m.output+=X.output||X.value}O({type:"brace",value:d,output:L}),Le("braces"),B.pop();continue}if(d==="|"){q.length>0&&q[q.length-1].conditions++,O({type:"text",value:d});continue}if(d===","){let b=d,L=B[B.length-1];L&&Te[Te.length-1]==="braces"&&(L.comma=!0,b="|"),O({type:"comma",value:d,output:b});continue}if(d==="/"){if(h.type==="dot"&&m.index===m.start+1){m.start=m.index+1,m.consumed="",m.output="",s.pop(),h=o;continue}O({type:"slash",value:d,output:g});continue}if(d==="."){if(m.braces>0&&h.type==="dot"){h.value==="."&&(h.output=f);let b=B[B.length-1];h.type="dots",h.output+=d,h.value+=d,b.dots=!0;continue}if(m.braces+m.parens===0&&h.type!=="bos"&&h.type!=="slash"){O({type:"text",value:d,output:f});continue}O({type:"dot",value:d,output:f});continue}if(d==="?"){if(!(h&&h.value==="(")&&r.noextglob!==!0&&N()==="("&&N(2)!=="?"){_t("qmark",d);continue}if(h&&h.type==="paren"){let L=N(),G=d;if(L==="<"&&!pe.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(h.value==="("&&!/[!=<:]/.test(L)||L==="<"&&!/<([!=]|\w+>)/.test(Ce()))&&(G=`\\${d}`),O({type:"text",value:d,output:G});continue}if(r.dot!==!0&&(h.type==="slash"||h.type==="bos")){O({type:"qmark",value:d,output:te});continue}O({type:"qmark",value:d,output:$});continue}if(d==="!"){if(r.noextglob!==!0&&N()==="("&&(N(2)!=="?"||!/[!=<:]/.test(N(3)))){_t("negate",d);continue}if(r.nonegate!==!0&&m.index===0){nu();continue}}if(d==="+"){if(r.noextglob!==!0&&N()==="("&&N(2)!=="?"){_t("plus",d);continue}if(h&&h.value==="("||r.regex===!1){O({type:"plus",value:d,output:p});continue}if(h&&(h.type==="bracket"||h.type==="paren"||h.type==="brace")||m.parens>0){O({type:"plus",value:d});continue}O({type:"plus",value:p});continue}if(d==="@"){if(r.noextglob!==!0&&N()==="("&&N(2)!=="?"){O({type:"at",extglob:!0,value:d,output:""});continue}O({type:"text",value:d});continue}if(d!=="*"){(d==="$"||d==="^")&&(d=`\\${d}`);let b=Aa.exec(Ce());b&&(d+=b[0],m.index+=b[0].length),O({type:"text",value:d});continue}if(h&&(h.type==="globstar"||h.star===!0)){h.type="star",h.star=!0,h.value+=d,h.output=Q,m.backtrack=!0,m.globstar=!0,ce(d);continue}let A=Ce();if(r.noextglob!==!0&&/^\([^?]/.test(A)){_t("star",d);continue}if(h.type==="star"){if(r.noglobstar===!0){ce(d);continue}let b=h.prev,L=b.prev,G=b.type==="slash"||b.type==="bos",ne=L&&(L.type==="star"||L.type==="globstar");if(r.bash===!0&&(!G||A[0]&&A[0]!=="/")){O({type:"star",value:d,output:""});continue}let X=m.braces>0&&(b.type==="comma"||b.type==="brace"),Vt=q.length&&(b.type==="pipe"||b.type==="paren");if(!G&&b.type!=="paren"&&!X&&!Vt){O({type:"star",value:d,output:""});continue}for(;A.slice(0,3)==="/**";){let Rt=e[m.index+4];if(Rt&&Rt!=="/")break;A=A.slice(3),ce("/**",3)}if(b.type==="bos"&&re()){h.type="globstar",h.value+=d,h.output=M(r),m.output=h.output,m.globstar=!0,ce(d);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&!ne&&re()){m.output=m.output.slice(0,-(b.output+h.output).length),b.output=`(?:${b.output}`,h.type="globstar",h.output=M(r)+(r.strictSlashes?")":"|$)"),h.value+=d,m.globstar=!0,m.output+=b.output+h.output,ce(d);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&A[0]==="/"){let Rt=A[1]!==void 0?"|$":"";m.output=m.output.slice(0,-(b.output+h.output).length),b.output=`(?:${b.output}`,h.type="globstar",h.output=`${M(r)}${g}|${g}${Rt})`,h.value+=d,m.output+=b.output+h.output,m.globstar=!0,ce(d+be()),O({type:"slash",value:"/",output:""});continue}if(b.type==="bos"&&A[0]==="/"){h.type="globstar",h.value+=d,h.output=`(?:^|${g}|${M(r)}${g})`,m.output=h.output,m.globstar=!0,ce(d+be()),O({type:"slash",value:"/",output:""});continue}m.output=m.output.slice(0,-h.output.length),h.type="globstar",h.output=M(r),h.value+=d,m.output+=h.output,m.globstar=!0,ce(d);continue}let D={type:"star",value:d,output:Q};if(r.bash===!0){D.output=".*?",(h.type==="bos"||h.type==="slash")&&(D.output=T+D.output),O(D);continue}if(h&&(h.type==="bracket"||h.type==="paren")&&r.regex===!0){D.output=d,O(D);continue}(m.index===m.start||h.type==="slash"||h.type==="dot")&&(h.type==="dot"?(m.output+=w,h.output+=w):r.dot===!0?(m.output+=v,h.output+=v):(m.output+=T,h.output+=T),N()!=="*"&&(m.output+=x,h.output+=x)),O(D)}for(;m.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(De("closing","]"));m.output=pe.escapeLast(m.output,"["),Le("brackets")}for(;m.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(De("closing",")"));m.output=pe.escapeLast(m.output,"("),Le("parens")}for(;m.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(De("closing","}"));m.output=pe.escapeLast(m.output,"{"),Le("braces")}if(r.strictSlashes!==!0&&(h.type==="star"||h.type==="bracket")&&O({type:"maybe_slash",value:"",output:`${g}?`}),m.backtrack===!0){m.output="";for(let A of m.tokens)m.output+=A.output!=null?A.output:A.value,A.suffix&&(m.output+=A.suffix)}return m};di.fastpaths=(e,t)=>{let r=k({},t),n=typeof r.maxLength=="number"?Math.min(kt,r.maxLength):kt,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=hi[e]||e;let o=pe.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:u,ONE_CHAR:a,DOTS_SLASH:l,NO_DOT:c,NO_DOTS:f,NO_DOTS_SLASH:p,STAR:g,START_ANCHOR:x}=It.globChars(o),y=r.dot?f:c,C=r.dot?p:c,w=r.capture?"":"?:",v={negated:!1,prefix:""},$=r.bash===!0?".*?":g;r.capture&&($=`(${$})`);let te=T=>T.noglobstar===!0?$:`(${w}(?:(?!${x}${T.dot?l:s}).)*?)`,F=T=>{switch(T){case"*":return`${y}${a}${$}`;case".*":return`${s}${a}${$}`;case"*.*":return`${y}${$}${s}${a}${$}`;case"*/*":return`${y}${$}${u}${a}${C}${$}`;case"**":return y+te(r);case"**/*":return`(?:${y}${te(r)}${u})?${C}${a}${$}`;case"**/*.*":return`(?:${y}${te(r)}${u})?${C}${$}${s}${a}${$}`;case"**/.*":return`(?:${y}${te(r)}${u})?${s}${a}${$}`;default:{let R=/^(.*?)\.(\w+)$/.exec(T);if(!R)return;let Q=F(R[1]);return Q?Q+s+R[2]:void 0}}},ue=pe.removePrefix(e,v),M=F(ue);return M&&r.strictSlashes!==!0&&(M+=`${u}?`),M};gi.exports=di});var xi=_((Bf,yi)=>{"use strict";var Ea=Y("path"),wa=pi(),fr=mi(),pr=nt(),Sa=rt(),Ta=e=>e&&typeof e=="object"&&!Array.isArray(e),K=(e,t,r=!1)=>{if(Array.isArray(e)){let c=e.map(p=>K(p,t,r));return p=>{for(let g of c){let x=g(p);if(x)return x}return!1}}let n=Ta(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},o=pr.isWindows(t),s=n?K.compileRe(e,t):K.makeRe(e,t,!1,!0),u=s.state;delete s.state;let a=()=>!1;if(i.ignore){let c=W(k({},t),{ignore:null,onMatch:null,onResult:null});a=K(i.ignore,c,r)}let l=(c,f=!1)=>{let{isMatch:p,match:g,output:x}=K.test(c,s,t,{glob:e,posix:o}),y={glob:e,state:u,regex:s,posix:o,input:c,output:x,match:g,isMatch:p};return typeof i.onResult=="function"&&i.onResult(y),p===!1?(y.isMatch=!1,f?y:!1):a(c)?(typeof i.onIgnore=="function"&&i.onIgnore(y),y.isMatch=!1,f?y:!1):(typeof i.onMatch=="function"&&i.onMatch(y),f?y:!0)};return r&&(l.state=u),l};K.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=r||{},s=o.format||(i?pr.toPosixSlashes:null),u=e===n,a=u&&s?s(e):e;return u===!1&&(a=s?s(e):e,u=a===n),(u===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?u=K.matchBase(e,t,r,i):u=t.exec(a)),{isMatch:Boolean(u),match:u,output:a}};K.matchBase=(e,t,r,n=pr.isWindows(r))=>(t instanceof RegExp?t:K.makeRe(t,r)).test(Ea.basename(e));K.isMatch=(e,t,r)=>K(t,r)(e);K.parse=(e,t)=>Array.isArray(e)?e.map(r=>K.parse(r,t)):fr(e,W(k({},t),{fastpaths:!1}));K.scan=(e,t)=>wa(e,t);K.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},o=i.contains?"":"^",s=i.contains?"":"$",u=`${o}(?:${e.output})${s}`;e&&e.negated===!0&&(u=`^(?!${u}).*$`);let a=K.toRegex(u,t);return n===!0&&(a.state=e),a};K.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=fr.fastpaths(e,t)),i.output||(i=fr(e,t)),K.compileRe(i,t,r,n)};K.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};K.constants=Sa;yi.exports=K});var Ci=_((Df,bi)=>{"use strict";bi.exports=xi()});var dr=_((qf,Ri)=>{"use strict";var vi=Y("util"),Ai=Jn(),Ae=Ci(),hr=nt(),_i=e=>e===""||e==="./",U=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,o=new Set,s=0,u=c=>{o.add(c.output),r&&r.onResult&&r.onResult(c)};for(let c=0;c<t.length;c++){let f=Ae(String(t[c]),W(k({},r),{onResult:u}),!0),p=f.state.negated||f.state.negatedExtglob;p&&s++;for(let g of e){let x=f(g,!0);!(p?!x.isMatch:x.isMatch)||(p?n.add(x.output):(n.delete(x.output),i.add(x.output)))}}let l=(s===t.length?[...o]:[...i]).filter(c=>!n.has(c));if(r&&l.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(c=>c.replace(/\\/g,"")):t}return l};U.match=U;U.matcher=(e,t)=>Ae(e,t);U.isMatch=(e,t,r)=>Ae(t,r)(e);U.any=U.isMatch;U.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],o=u=>{r.onResult&&r.onResult(u),i.push(u.output)},s=U(e,t,W(k({},r),{onResult:o}));for(let u of i)s.includes(u)||n.add(u);return[...n]};U.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${vi.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>U.contains(e,n,r));if(typeof t=="string"){if(_i(e)||_i(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return U.isMatch(e,t,W(k({},r),{contains:!0}))};U.matchKeys=(e,t,r)=>{if(!hr.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=U(Object.keys(e),t,r),i={};for(let o of n)i[o]=e[o];return i};U.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Ae(String(i),r);if(n.some(s=>o(s)))return!0}return!1};U.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Ae(String(i),r);if(!n.every(s=>o(s)))return!1}return!0};U.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${vi.inspect(e)}"`);return[].concat(t).every(n=>Ae(n,r)(e))};U.capture=(e,t,r)=>{let n=hr.isWindows(r),o=Ae.makeRe(String(e),W(k({},r),{capture:!0})).exec(n?hr.toPosixSlashes(t):t);if(o)return o.slice(1).map(s=>s===void 0?"":s)};U.makeRe=(...e)=>Ae.makeRe(...e);U.scan=(...e)=>Ae.scan(...e);U.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of Ai(String(n),t))r.push(Ae.parse(i,t));return r};U.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:Ai(e,t)};U.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return U.braces(e,W(k({},t),{expand:!0}))};Ri.exports=U});var qe=_((Uf,Ne)=>{"use strict";function Ei(e){return typeof e=="undefined"||e===null}function Ia(e){return typeof e=="object"&&e!==null}function ka(e){return Array.isArray(e)?e:Ei(e)?[]:[e]}function La(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function Oa(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function $a(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Ne.exports.isNothing=Ei;Ne.exports.isObject=Ia;Ne.exports.toArray=ka;Ne.exports.repeat=Oa;Ne.exports.isNegativeZero=$a;Ne.exports.extend=La});var Ue=_((jf,Si)=>{"use strict";function wi(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function ot(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=wi(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ot.prototype=Object.create(Error.prototype);ot.prototype.constructor=ot;ot.prototype.toString=function(t){return this.name+": "+wi(this,t)};Si.exports=ot});var Ii=_((Gf,Ti)=>{"use strict";var st=qe();function gr(e,t,r,n,i){var o="",s="",u=Math.floor(i/2)-1;return n-t>u&&(o=" ... ",t=n-u+o.length),r-n>u&&(s=" ...",r=n+u-s.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+o.length}}function mr(e,t){return st.repeat(" ",t-e.length)+e}function Na(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var u="",a,l,c=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+c+3);for(a=1;a<=t.linesBefore&&!(s-a<0);a++)l=gr(e.buffer,n[s-a],i[s-a],e.position-(n[s]-n[s-a]),f),u=st.repeat(" ",t.indent)+mr((e.line-a+1).toString(),c)+" | "+l.str+`
`+u;for(l=gr(e.buffer,n[s],i[s],e.position,f),u+=st.repeat(" ",t.indent)+mr((e.line+1).toString(),c)+" | "+l.str+`
`,u+=st.repeat("-",t.indent+c+3+l.pos)+`^
`,a=1;a<=t.linesAfter&&!(s+a>=i.length);a++)l=gr(e.buffer,n[s+a],i[s+a],e.position-(n[s]-n[s+a]),f),u+=st.repeat(" ",t.indent)+mr((e.line+a+1).toString(),c)+" | "+l.str+`
`;return u.replace(/\n$/,"")}Ti.exports=Na});var V=_((Wf,Li)=>{"use strict";var ki=Ue(),Pa=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Fa=["scalar","sequence","mapping"];function Ha(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function Ma(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Pa.indexOf(r)===-1)throw new ki('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Ha(t.styleAliases||null),Fa.indexOf(this.kind)===-1)throw new ki('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Li.exports=Ma});var br=_((Yf,$i)=>{"use strict";var ut=Ue(),yr=V();function Oi(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function Ba(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function xr(e){return this.extend(e)}xr.prototype.extend=function(t){var r=[],n=[];if(t instanceof yr)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new ut("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof yr))throw new ut("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new ut("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new ut("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof yr))throw new ut("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(xr.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Oi(i,"implicit"),i.compiledExplicit=Oi(i,"explicit"),i.compiledTypeMap=Ba(i.compiledImplicit,i.compiledExplicit),i};$i.exports=xr});var Cr=_((Kf,Ni)=>{"use strict";var Da=V();Ni.exports=new Da("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var vr=_((Qf,Pi)=>{"use strict";var qa=V();Pi.exports=new qa("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var Ar=_((zf,Fi)=>{"use strict";var Ua=V();Fi.exports=new Ua("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var _r=_((Xf,Hi)=>{"use strict";var ja=br();Hi.exports=new ja({explicit:[Cr(),vr(),Ar()]})});var Rr=_((Zf,Mi)=>{"use strict";var Ga=V();function Wa(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Ya(){return null}function Ka(e){return e===null}Mi.exports=new Ga("tag:yaml.org,2002:null",{kind:"scalar",resolve:Wa,construct:Ya,predicate:Ka,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var Er=_((Vf,Bi)=>{"use strict";var Qa=V();function za(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Xa(e){return e==="true"||e==="True"||e==="TRUE"}function Za(e){return Object.prototype.toString.call(e)==="[object Boolean]"}Bi.exports=new Qa("tag:yaml.org,2002:bool",{kind:"scalar",resolve:za,construct:Xa,predicate:Za,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var wr=_((Jf,Di)=>{"use strict";var Va=qe(),Ja=V();function el(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function tl(e){return 48<=e&&e<=55}function rl(e){return 48<=e&&e<=57}function nl(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!el(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!tl(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!rl(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function il(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function ol(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!Va.isNegativeZero(e)}Di.exports=new Ja("tag:yaml.org,2002:int",{kind:"scalar",resolve:nl,construct:il,predicate:ol,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var Sr=_((ep,Ui)=>{"use strict";var qi=qe(),sl=V(),ul=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function al(e){return!(e===null||!ul.test(e)||e[e.length-1]==="_")}function ll(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var cl=/^[-+]?[0-9]+e/;function fl(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(qi.isNegativeZero(e))return"-0.0";return r=e.toString(10),cl.test(r)?r.replace("e",".e"):r}function pl(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||qi.isNegativeZero(e))}Ui.exports=new sl("tag:yaml.org,2002:float",{kind:"scalar",resolve:al,construct:ll,predicate:pl,represent:fl,defaultStyle:"lowercase"})});var Tr=_((tp,ji)=>{"use strict";ji.exports=_r().extend({implicit:[Rr(),Er(),wr(),Sr()]})});var Ir=_((rp,Gi)=>{"use strict";Gi.exports=Tr()});var kr=_((np,Ki)=>{"use strict";var hl=V(),Wi=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Yi=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function dl(e){return e===null?!1:Wi.exec(e)!==null||Yi.exec(e)!==null}function gl(e){var t,r,n,i,o,s,u,a=0,l=null,c,f,p;if(t=Wi.exec(e),t===null&&(t=Yi.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],u=+t[6],t[7]){for(a=t[7].slice(0,3);a.length<3;)a+="0";a=+a}return t[9]&&(c=+t[10],f=+(t[11]||0),l=(c*60+f)*6e4,t[9]==="-"&&(l=-l)),p=new Date(Date.UTC(r,n,i,o,s,u,a)),l&&p.setTime(p.getTime()-l),p}function ml(e){return e.toISOString()}Ki.exports=new hl("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:dl,construct:gl,instanceOf:Date,represent:ml})});var Lr=_((ip,Qi)=>{"use strict";var yl=V();function xl(e){return e==="<<"||e===null}Qi.exports=new yl("tag:yaml.org,2002:merge",{kind:"scalar",resolve:xl})});var $r=_((op,zi)=>{"use strict";var bl=V(),Or=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Cl(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=Or;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function vl(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=Or,s=0,u=[];for(t=0;t<i;t++)t%4==0&&t&&(u.push(s>>16&255),u.push(s>>8&255),u.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(u.push(s>>16&255),u.push(s>>8&255),u.push(s&255)):r===18?(u.push(s>>10&255),u.push(s>>2&255)):r===12&&u.push(s>>4&255),new Uint8Array(u)}function Al(e){var t="",r=0,n,i,o=e.length,s=Or;for(n=0;n<o;n++)n%3==0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function _l(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}zi.exports=new bl("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Cl,construct:vl,predicate:_l,represent:Al})});var Nr=_((sp,Xi)=>{"use strict";var Rl=V(),El=Object.prototype.hasOwnProperty,wl=Object.prototype.toString;function Sl(e){if(e===null)return!0;var t=[],r,n,i,o,s,u=e;for(r=0,n=u.length;r<n;r+=1){if(i=u[r],s=!1,wl.call(i)!=="[object Object]")return!1;for(o in i)if(El.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Tl(e){return e!==null?e:[]}Xi.exports=new Rl("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Sl,construct:Tl})});var Pr=_((up,Zi)=>{"use strict";var Il=V(),kl=Object.prototype.toString;function Ll(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],kl.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function Ol(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}Zi.exports=new Il("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Ll,construct:Ol})});var Fr=_((ap,Vi)=>{"use strict";var $l=V(),Nl=Object.prototype.hasOwnProperty;function Pl(e){if(e===null)return!0;var t,r=e;for(t in r)if(Nl.call(r,t)&&r[t]!==null)return!1;return!0}function Fl(e){return e!==null?e:{}}Vi.exports=new $l("tag:yaml.org,2002:set",{kind:"mapping",resolve:Pl,construct:Fl})});var Lt=_((lp,Ji)=>{"use strict";Ji.exports=Ir().extend({implicit:[kr(),Lr()],explicit:[$r(),Nr(),Pr(),Fr()]})});var mo=_((cp,Dr)=>{"use strict";var Pe=qe(),eo=Ue(),Hl=Ii(),Ml=Lt(),Ie=Object.prototype.hasOwnProperty,Ot=1,to=2,ro=3,$t=4,Hr=1,Bl=2,no=3,Dl=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ql=/[\x85\u2028\u2029]/,Ul=/[,\[\]\{\}]/,io=/^(?:!|!!|![a-z\-]+!)$/i,oo=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function so(e){return Object.prototype.toString.call(e)}function _e(e){return e===10||e===13}function Fe(e){return e===9||e===32}function le(e){return e===9||e===32||e===10||e===13}function je(e){return e===44||e===91||e===93||e===123||e===125}function jl(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Gl(e){return e===120?2:e===117?4:e===85?8:0}function Wl(e){return 48<=e&&e<=57?e-48:-1}function uo(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Yl(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var ao=new Array(256),lo=new Array(256);for(var Ge=0;Ge<256;Ge++)ao[Ge]=uo(Ge)?1:0,lo[Ge]=uo(Ge);function Kl(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Ml,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function co(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Hl(r),new eo(t,r)}function S(e,t){throw co(e,t)}function Nt(e,t){e.onWarning&&e.onWarning.call(null,co(e,t))}var fo={YAML:function(t,r,n){var i,o,s;t.version!==null&&S(t,"duplication of %YAML directive"),n.length!==1&&S(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&S(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&S(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Nt(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&S(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],io.test(i)||S(t,"ill-formed tag handle (first argument) of the TAG directive"),Ie.call(t.tagMap,i)&&S(t,'there is a previously declared suffix for "'+i+'" tag handle'),oo.test(o)||S(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(s){S(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function ke(e,t,r,n){var i,o,s,u;if(t<r){if(u=e.input.slice(t,r),n)for(i=0,o=u.length;i<o;i+=1)s=u.charCodeAt(i),s===9||32<=s&&s<=1114111||S(e,"expected valid JSON character");else Dl.test(u)&&S(e,"the stream contains non-printable characters");e.result+=u}}function po(e,t,r,n){var i,o,s,u;for(Pe.isObject(r)||S(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,u=i.length;s<u;s+=1)o=i[s],Ie.call(t,o)||(t[o]=r[o],n[o]=!0)}function We(e,t,r,n,i,o,s,u,a){var l,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,c=i.length;l<c;l+=1)Array.isArray(i[l])&&S(e,"nested arrays are not supported inside keys"),typeof i=="object"&&so(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&so(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(l=0,c=o.length;l<c;l+=1)po(e,t,o[l],r);else po(e,t,o,r);else!e.json&&!Ie.call(r,i)&&Ie.call(t,i)&&(e.line=s||e.line,e.lineStart=u||e.lineStart,e.position=a||e.position,S(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}function Mr(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):S(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function z(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Fe(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(_e(i))for(Mr(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Nt(e,"deficient indentation"),n}function Pt(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||le(r)))}function Br(e,t){t===1?e.result+=" ":t>1&&(e.result+=Pe.repeat(`
`,t-1))}function Ql(e,t,r){var n,i,o,s,u,a,l,c,f=e.kind,p=e.result,g;if(g=e.input.charCodeAt(e.position),le(g)||je(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(i=e.input.charCodeAt(e.position+1),le(i)||r&&je(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,u=!1;g!==0;){if(g===58){if(i=e.input.charCodeAt(e.position+1),le(i)||r&&je(i))break}else if(g===35){if(n=e.input.charCodeAt(e.position-1),le(n))break}else{if(e.position===e.lineStart&&Pt(e)||r&&je(g))break;if(_e(g))if(a=e.line,l=e.lineStart,c=e.lineIndent,z(e,!1,-1),e.lineIndent>=t){u=!0,g=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=a,e.lineStart=l,e.lineIndent=c;break}}u&&(ke(e,o,s,!1),Br(e,e.line-a),o=s=e.position,u=!1),Fe(g)||(s=e.position+1),g=e.input.charCodeAt(++e.position)}return ke(e,o,s,!1),e.result?!0:(e.kind=f,e.result=p,!1)}function zl(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(ke(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else _e(r)?(ke(e,n,i,!0),Br(e,z(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Pt(e)?S(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);S(e,"unexpected end of the stream within a single quoted scalar")}function Xl(e,t){var r,n,i,o,s,u;if(u=e.input.charCodeAt(e.position),u!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(u=e.input.charCodeAt(e.position))!==0;){if(u===34)return ke(e,r,e.position,!0),e.position++,!0;if(u===92){if(ke(e,r,e.position,!0),u=e.input.charCodeAt(++e.position),_e(u))z(e,!1,t);else if(u<256&&ao[u])e.result+=lo[u],e.position++;else if((s=Gl(u))>0){for(i=s,o=0;i>0;i--)u=e.input.charCodeAt(++e.position),(s=jl(u))>=0?o=(o<<4)+s:S(e,"expected hexadecimal character");e.result+=Yl(o),e.position++}else S(e,"unknown escape sequence");r=n=e.position}else _e(u)?(ke(e,r,n,!0),Br(e,z(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Pt(e)?S(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}S(e,"unexpected end of the stream within a double quoted scalar")}function Zl(e,t){var r=!0,n,i,o,s=e.tag,u,a=e.anchor,l,c,f,p,g,x=Object.create(null),y,C,w,v;if(v=e.input.charCodeAt(e.position),v===91)c=93,g=!1,u=[];else if(v===123)c=125,g=!0,u={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),v=e.input.charCodeAt(++e.position);v!==0;){if(z(e,!0,t),v=e.input.charCodeAt(e.position),v===c)return e.position++,e.tag=s,e.anchor=a,e.kind=g?"mapping":"sequence",e.result=u,!0;r?v===44&&S(e,"expected the node content, but found ','"):S(e,"missed comma between flow collection entries"),C=y=w=null,f=p=!1,v===63&&(l=e.input.charCodeAt(e.position+1),le(l)&&(f=p=!0,e.position++,z(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,Ye(e,t,Ot,!1,!0),C=e.tag,y=e.result,z(e,!0,t),v=e.input.charCodeAt(e.position),(p||e.line===n)&&v===58&&(f=!0,v=e.input.charCodeAt(++e.position),z(e,!0,t),Ye(e,t,Ot,!1,!0),w=e.result),g?We(e,u,x,C,y,w,n,i,o):f?u.push(We(e,null,x,C,y,w,n,i,o)):u.push(y),z(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(r=!0,v=e.input.charCodeAt(++e.position)):r=!1}S(e,"unexpected end of the stream within a flow collection")}function Vl(e,t){var r,n,i=Hr,o=!1,s=!1,u=t,a=0,l=!1,c,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)Hr===i?i=f===43?no:Bl:S(e,"repeat of a chomping mode identifier");else if((c=Wl(f))>=0)c===0?S(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?S(e,"repeat of an indentation width identifier"):(u=t+c-1,s=!0);else break;if(Fe(f)){do f=e.input.charCodeAt(++e.position);while(Fe(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!_e(f)&&f!==0)}for(;f!==0;){for(Mr(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!s||e.lineIndent<u)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>u&&(u=e.lineIndent),_e(f)){a++;continue}if(e.lineIndent<u){i===no?e.result+=Pe.repeat(`
`,o?1+a:a):i===Hr&&o&&(e.result+=`
`);break}for(n?Fe(f)?(l=!0,e.result+=Pe.repeat(`
`,o?1+a:a)):l?(l=!1,e.result+=Pe.repeat(`
`,a+1)):a===0?o&&(e.result+=" "):e.result+=Pe.repeat(`
`,a):e.result+=Pe.repeat(`
`,o?1+a:a),o=!0,s=!0,a=0,r=e.position;!_e(f)&&f!==0;)f=e.input.charCodeAt(++e.position);ke(e,r,e.position,!1)}return!0}function ho(e,t){var r,n=e.tag,i=e.anchor,o=[],s,u=!1,a;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),a=e.input.charCodeAt(e.position);a!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,S(e,"tab characters must not be used in indentation")),!(a!==45||(s=e.input.charCodeAt(e.position+1),!le(s))));){if(u=!0,e.position++,z(e,!0,-1)&&e.lineIndent<=t){o.push(null),a=e.input.charCodeAt(e.position);continue}if(r=e.line,Ye(e,t,ro,!1,!0),o.push(e.result),z(e,!0,-1),a=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&a!==0)S(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return u?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function Jl(e,t,r){var n,i,o,s,u,a,l=e.tag,c=e.anchor,f={},p=Object.create(null),g=null,x=null,y=null,C=!1,w=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),v=e.input.charCodeAt(e.position);v!==0;){if(!C&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,S(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(v===63||v===58)&&le(n))v===63?(C&&(We(e,f,p,g,x,null,s,u,a),g=x=y=null),w=!0,C=!0,i=!0):C?(C=!1,i=!0):S(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=n;else{if(s=e.line,u=e.lineStart,a=e.position,!Ye(e,r,to,!1,!0))break;if(e.line===o){for(v=e.input.charCodeAt(e.position);Fe(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),le(v)||S(e,"a whitespace character is expected after the key-value separator within a block mapping"),C&&(We(e,f,p,g,x,null,s,u,a),g=x=y=null),w=!0,C=!1,i=!1,g=e.tag,x=e.result;else if(w)S(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=c,!0}else if(w)S(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=c,!0}if((e.line===o||e.lineIndent>t)&&(C&&(s=e.line,u=e.lineStart,a=e.position),Ye(e,t,$t,!0,i)&&(C?x=e.result:y=e.result),C||(We(e,f,p,g,x,y,s,u,a),g=x=y=null),z(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&v!==0)S(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return C&&We(e,f,p,g,x,null,s,u,a),w&&(e.tag=l,e.anchor=c,e.kind="mapping",e.result=f),w}function ec(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&S(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):S(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!le(s);)s===33&&(n?S(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),io.test(i)||S(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),Ul.test(o)&&S(e,"tag suffix cannot contain flow indicator characters")}o&&!oo.test(o)&&S(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch(u){S(e,"tag name is malformed: "+o)}return r?e.tag=o:Ie.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:S(e,'undeclared tag handle "'+i+'"'),!0}function tc(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&S(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!le(r)&&!je(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&S(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function rc(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!le(n)&&!je(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&S(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Ie.call(e.anchorMap,r)||S(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],z(e,!0,-1),!0}function Ye(e,t,r,n,i){var o,s,u,a=1,l=!1,c=!1,f,p,g,x,y,C;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=u=$t===r||ro===r,n&&z(e,!0,-1)&&(l=!0,e.lineIndent>t?a=1:e.lineIndent===t?a=0:e.lineIndent<t&&(a=-1)),a===1)for(;ec(e)||tc(e);)z(e,!0,-1)?(l=!0,u=o,e.lineIndent>t?a=1:e.lineIndent===t?a=0:e.lineIndent<t&&(a=-1)):u=!1;if(u&&(u=l||i),(a===1||$t===r)&&(Ot===r||to===r?y=t:y=t+1,C=e.position-e.lineStart,a===1?u&&(ho(e,C)||Jl(e,C,y))||Zl(e,y)?c=!0:(s&&Vl(e,y)||zl(e,y)||Xl(e,y)?c=!0:rc(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&S(e,"alias node should not have any properties")):Ql(e,y,Ot===r)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):a===0&&(c=u&&ho(e,C))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&S(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,p=e.implicitTypes.length;f<p;f+=1)if(x=e.implicitTypes[f],x.resolve(e.result)){e.result=x.construct(e.result),e.tag=x.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Ie.call(e.typeMap[e.kind||"fallback"],e.tag))x=e.typeMap[e.kind||"fallback"][e.tag];else for(x=null,g=e.typeMap.multi[e.kind||"fallback"],f=0,p=g.length;f<p;f+=1)if(e.tag.slice(0,g[f].tag.length)===g[f].tag){x=g[f];break}x||S(e,"unknown tag !<"+e.tag+">"),e.result!==null&&x.kind!==e.kind&&S(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+x.kind+'", not "'+e.kind+'"'),x.resolve(e.result,e.tag)?(e.result=x.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):S(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function nc(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(z(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!le(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&S(e,"directive name must not be less than one character in length");s!==0;){for(;Fe(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!_e(s));break}if(_e(s))break;for(r=e.position;s!==0&&!le(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&Mr(e),Ie.call(fo,n)?fo[n](e,n,i):Nt(e,'unknown document directive "'+n+'"')}if(z(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,z(e,!0,-1)):o&&S(e,"directives end mark is expected"),Ye(e,e.lineIndent-1,$t,!1,!0),z(e,!0,-1),e.checkLineBreaks&&ql.test(e.input.slice(t,e.position))&&Nt(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Pt(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,z(e,!0,-1));return}if(e.position<e.length-1)S(e,"end of the stream or a document separator is expected");else return}function go(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Kl(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,S(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)nc(r);return r.documents}function ic(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=go(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function oc(e,t){var r=go(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new eo("expected a single document in the stream, but found more")}}Dr.exports.loadAll=ic;Dr.exports.load=oc});var Ho=_((fp,Fo)=>{"use strict";var Ft=qe(),at=Ue(),sc=Lt(),yo=Object.prototype.toString,xo=Object.prototype.hasOwnProperty,qr=65279,uc=9,lt=10,ac=13,lc=32,cc=33,fc=34,Ur=35,pc=37,hc=38,dc=39,gc=42,bo=44,mc=45,Ht=58,yc=61,xc=62,bc=63,Cc=64,Co=91,vo=93,vc=96,Ao=123,Ac=124,_o=125,J={};J[0]="\\0";J[7]="\\a";J[8]="\\b";J[9]="\\t";J[10]="\\n";J[11]="\\v";J[12]="\\f";J[13]="\\r";J[27]="\\e";J[34]='\\"';J[92]="\\\\";J[133]="\\N";J[160]="\\_";J[8232]="\\L";J[8233]="\\P";var _c=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Rc=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Ec(e,t){var r,n,i,o,s,u,a;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],u=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),a=e.compiledTypeMap.fallback[s],a&&xo.call(a.styleAliases,u)&&(u=a.styleAliases[u]),r[s]=u;return r}function wc(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new at("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Ft.repeat("0",n-t.length)+t}var Sc=1,ct=2;function Tc(e){this.schema=e.schema||sc,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Ft.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Ec(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ct:Sc,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Ro(e,t){for(var r=Ft.repeat(" ",t),n=0,i=-1,o="",s,u=e.length;n<u;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=u):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function jr(e,t){return`
`+Ft.repeat(" ",e.indent*t)}function Ic(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Mt(e){return e===lc||e===uc}function ft(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==qr||65536<=e&&e<=1114111}function Eo(e){return ft(e)&&e!==qr&&e!==ac&&e!==lt}function wo(e,t,r){var n=Eo(e),i=n&&!Mt(e);return(r?n:n&&e!==bo&&e!==Co&&e!==vo&&e!==Ao&&e!==_o)&&e!==Ur&&!(t===Ht&&!i)||Eo(t)&&!Mt(t)&&e===Ur||t===Ht&&i}function kc(e){return ft(e)&&e!==qr&&!Mt(e)&&e!==mc&&e!==bc&&e!==Ht&&e!==bo&&e!==Co&&e!==vo&&e!==Ao&&e!==_o&&e!==Ur&&e!==hc&&e!==gc&&e!==cc&&e!==Ac&&e!==yc&&e!==xc&&e!==dc&&e!==fc&&e!==pc&&e!==Cc&&e!==vc}function Lc(e){return!Mt(e)&&e!==Ht}function pt(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function So(e){var t=/^\n* /;return t.test(e)}var To=1,Gr=2,Io=3,ko=4,Ke=5;function Oc(e,t,r,n,i,o,s,u){var a,l=0,c=null,f=!1,p=!1,g=n!==-1,x=-1,y=kc(pt(e,0))&&Lc(pt(e,e.length-1));if(t||s)for(a=0;a<e.length;l>=65536?a+=2:a++){if(l=pt(e,a),!ft(l))return Ke;y=y&&wo(l,c,u),c=l}else{for(a=0;a<e.length;l>=65536?a+=2:a++){if(l=pt(e,a),l===lt)f=!0,g&&(p=p||a-x-1>n&&e[x+1]!==" ",x=a);else if(!ft(l))return Ke;y=y&&wo(l,c,u),c=l}p=p||g&&a-x-1>n&&e[x+1]!==" "}return!f&&!p?y&&!s&&!i(e)?To:o===ct?Ke:Gr:r>9&&So(e)?Ke:s?o===ct?Ke:Gr:p?ko:Io}function $c(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===ct?'""':"''";if(!e.noCompatMode&&(_c.indexOf(t)!==-1||Rc.test(t)))return e.quotingType===ct?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),u=n||e.flowLevel>-1&&r>=e.flowLevel;function a(l){return Ic(e,l)}switch(Oc(t,u,e.indent,s,a,e.quotingType,e.forceQuotes&&!n,i)){case To:return t;case Gr:return"'"+t.replace(/'/g,"''")+"'";case Io:return"|"+Lo(t,e.indent)+Oo(Ro(t,o));case ko:return">"+Lo(t,e.indent)+Oo(Ro(Nc(t,s),o));case Ke:return'"'+Pc(t,s)+'"';default:throw new at("impossible error: invalid scalar style")}}()}function Lo(e,t){var r=So(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function Oo(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Nc(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,$o(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var u=s[1],a=s[2];o=a[0]===" ",n+=u+(!i&&!o&&a!==""?`
`:"")+$o(a,t),i=o}return n}function $o(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,u=0,a="";n=r.exec(e);)u=n.index,u-i>t&&(o=s>i?s:u,a+=`
`+e.slice(i,o),i=o+1),s=u;return a+=`
`,e.length-i>t&&s>i?a+=e.slice(i,s)+`
`+e.slice(s+1):a+=e.slice(i),a.slice(1)}function Pc(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=pt(e,i),n=J[r],!n&&ft(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||wc(r);return t}function Fc(e,t,r){var n="",i=e.tag,o,s,u;for(o=0,s=r.length;o<s;o+=1)u=r[o],e.replacer&&(u=e.replacer.call(r,String(o),u)),(Se(e,t,u,!1,!1)||typeof u=="undefined"&&Se(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function No(e,t,r,n){var i="",o=e.tag,s,u,a;for(s=0,u=r.length;s<u;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(Se(e,t+1,a,!0,!0,!1,!0)||typeof a=="undefined"&&Se(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=jr(e,t)),e.dump&&lt===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function Hc(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,u,a,l,c;for(s=0,u=o.length;s<u;s+=1)c="",n!==""&&(c+=", "),e.condenseFlow&&(c+='"'),a=o[s],l=r[a],e.replacer&&(l=e.replacer.call(r,a,l)),!!Se(e,t,a,!1,!1)&&(e.dump.length>1024&&(c+="? "),c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!Se(e,t,l,!1,!1)&&(c+=e.dump,n+=c));e.tag=i,e.dump="{"+n+"}"}function Mc(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),u,a,l,c,f,p;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new at("sortKeys must be a boolean or a function");for(u=0,a=s.length;u<a;u+=1)p="",(!n||i!=="")&&(p+=jr(e,t)),l=s[u],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),!!Se(e,t+1,l,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&lt===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,f&&(p+=jr(e,t)),!!Se(e,t+1,c,!0,f)&&(e.dump&&lt===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,i+=p));e.tag=o,e.dump=i||"{}"}function Po(e,t,r){var n,i,o,s,u,a;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(u=i[o],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof t=="object"&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(r?u.multi&&u.representName?e.tag=u.representName(t):e.tag=u.tag:e.tag="?",u.represent){if(a=e.styleMap[u.tag]||u.defaultStyle,yo.call(u.represent)==="[object Function]")n=u.represent(t,a);else if(xo.call(u.represent,a))n=u.represent[a](t,a);else throw new at("!<"+u.tag+'> tag resolver accepts not "'+a+'" style');e.dump=n}return!0}return!1}function Se(e,t,r,n,i,o,s){e.tag=null,e.dump=r,Po(e,r,!1)||Po(e,r,!0);var u=yo.call(e.dump),a=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var c=u==="[object Object]"||u==="[object Array]",f,p;if(c&&(f=e.duplicates.indexOf(r),p=f!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(i=!1),p&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(c&&p&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),u==="[object Object]")n&&Object.keys(e.dump).length!==0?(Mc(e,t,e.dump,i),p&&(e.dump="&ref_"+f+e.dump)):(Hc(e,t,e.dump),p&&(e.dump="&ref_"+f+" "+e.dump));else if(u==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?No(e,t-1,e.dump,i):No(e,t,e.dump,i),p&&(e.dump="&ref_"+f+e.dump)):(Fc(e,t,e.dump),p&&(e.dump="&ref_"+f+" "+e.dump));else if(u==="[object String]")e.tag!=="?"&&$c(e,e.dump,t,o,a);else{if(u==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new at("unacceptable kind of an object to dump "+u)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function Bc(e,t){var r=[],n=[],i,o;for(Wr(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function Wr(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)Wr(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)Wr(e[n[i]],t,r)}function Dc(e,t){t=t||{};var r=new Tc(t);r.noRefs||Bc(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Se(r,0,n,!0,!0)?r.dump+`
`:""}Fo.exports.dump=Dc});var Bo=_((pp,ie)=>{"use strict";var Mo=mo(),qc=Ho();function Yr(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}ie.exports.Type=V();ie.exports.Schema=br();ie.exports.FAILSAFE_SCHEMA=_r();ie.exports.JSON_SCHEMA=Tr();ie.exports.CORE_SCHEMA=Ir();ie.exports.DEFAULT_SCHEMA=Lt();ie.exports.load=Mo.load;ie.exports.loadAll=Mo.loadAll;ie.exports.dump=qc.dump;ie.exports.YAMLException=Ue();ie.exports.types={binary:$r(),float:Sr(),map:Ar(),null:Rr(),pairs:Pr(),set:Fr(),timestamp:kr(),bool:Er(),int:wr(),merge:Lr(),omap:Nr(),seq:vr(),str:Cr()};ie.exports.safeLoad=Yr("safeLoad","load");ie.exports.safeLoadAll=Yr("safeLoadAll","loadAll");ie.exports.safeDump=Yr("safeDump","dump")});var qo=_((mp,Wc)=>{Wc.exports=[{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI",pr:"SYSTEM_PULLREQUEST_PULLREQUESTID"},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY_BUILD_BASE",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Shippable",constant:"SHIPPABLE",env:"SHIPPABLE",pr:{IS_PULL_REQUEST:"true"}},{name:"Solano CI",constant:"SOLANO",env:"TDDIUM",pr:"TDDIUM_PR_ID"},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}}]});var Go=_(he=>{"use strict";var Uo=qo(),Re=process.env;Object.defineProperty(he,"_vendors",{value:Uo.map(function(e){return e.constant})});he.name=null;he.isPR=null;Uo.forEach(function(e){var t=Array.isArray(e.env)?e.env:[e.env],r=t.every(function(n){return jo(n)});if(he[e.constant]=r,r)switch(he.name=e.name,typeof e.pr){case"string":he.isPR=!!Re[e.pr];break;case"object":"env"in e.pr?he.isPR=e.pr.env in Re&&Re[e.pr.env]!==e.pr.ne:"any"in e.pr?he.isPR=e.pr.any.some(function(n){return!!Re[n]}):he.isPR=jo(e.pr);break;default:he.isPR=null}});he.isCI=!!(Re.CI||Re.CONTINUOUS_INTEGRATION||Re.BUILD_NUMBER||Re.RUN_ID||he.name);function jo(e){return typeof e=="string"?!!Re[e]:Object.keys(e).every(function(t){return Re[t]===e[t]})}});var Yo=_((xp,Wo)=>{"use strict";Wo.exports=Go().isCI});var Qo=_((bp,zr)=>{"use strict";var Yc=Object.prototype.hasOwnProperty,oe="~";function dt(){}Object.create&&(dt.prototype=Object.create(null),new dt().__proto__||(oe=!1));function Kc(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function Ko(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new Kc(r,n||e,i),s=oe?oe+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function Dt(e,t){--e._eventsCount==0?e._events=new dt:delete e._events[t]}function ee(){this._events=new dt,this._eventsCount=0}ee.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)Yc.call(r,n)&&t.push(oe?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};ee.prototype.listeners=function(t){var r=oe?oe+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};ee.prototype.listenerCount=function(t){var r=oe?oe+t:t,n=this._events[r];return n?n.fn?1:n.length:0};ee.prototype.emit=function(t,r,n,i,o,s){var u=oe?oe+t:t;if(!this._events[u])return!1;var a=this._events[u],l=arguments.length,c,f;if(a.fn){switch(a.once&&this.removeListener(t,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,r),!0;case 3:return a.fn.call(a.context,r,n),!0;case 4:return a.fn.call(a.context,r,n,i),!0;case 5:return a.fn.call(a.context,r,n,i,o),!0;case 6:return a.fn.call(a.context,r,n,i,o,s),!0}for(f=1,c=new Array(l-1);f<l;f++)c[f-1]=arguments[f];a.fn.apply(a.context,c)}else{var p=a.length,g;for(f=0;f<p;f++)switch(a[f].once&&this.removeListener(t,a[f].fn,void 0,!0),l){case 1:a[f].fn.call(a[f].context);break;case 2:a[f].fn.call(a[f].context,r);break;case 3:a[f].fn.call(a[f].context,r,n);break;case 4:a[f].fn.call(a[f].context,r,n,i);break;default:if(!c)for(g=1,c=new Array(l-1);g<l;g++)c[g-1]=arguments[g];a[f].fn.apply(a[f].context,c)}}return!0};ee.prototype.on=function(t,r,n){return Ko(this,t,r,n,!1)};ee.prototype.once=function(t,r,n){return Ko(this,t,r,n,!0)};ee.prototype.removeListener=function(t,r,n,i){var o=oe?oe+t:t;if(!this._events[o])return this;if(!r)return Dt(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&Dt(this,o);else{for(var u=0,a=[],l=s.length;u<l;u++)(s[u].fn!==r||i&&!s[u].once||n&&s[u].context!==n)&&a.push(s[u]);a.length?this._events[o]=a.length===1?a[0]:a:Dt(this,o)}return this};ee.prototype.removeAllListeners=function(t){var r;return t?(r=oe?oe+t:t,this._events[r]&&Dt(this,r)):(this._events=new dt,this._eventsCount=0),this};ee.prototype.off=ee.prototype.removeListener;ee.prototype.addListener=ee.prototype.on;ee.prefixed=oe;ee.EventEmitter=ee;typeof zr!="undefined"&&(zr.exports=ee)});var Xo=_((Cp,zo)=>{"use strict";zo.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var Vo=_((vp,qt)=>{"use strict";var Qc=Xo(),Xr=class extends Error{constructor(t){super(t);this.name="TimeoutError"}},Zo=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===Infinity){n(e);return}let o=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(a){i(a)}return}let s=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,u=r instanceof Error?r:new Xr(s);typeof e.cancel=="function"&&e.cancel(),i(u)},t);Qc(e.then(n,i),()=>{clearTimeout(o)})});qt.exports=Zo;qt.exports.default=Zo;qt.exports.TimeoutError=Xr});var Jo=_(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});function zc(e,t,r){let n=0,i=e.length;for(;i>0;){let o=i/2|0,s=n+o;r(e[s],t)<=0?(n=++s,i-=o+1):i=o}return n}Zr.default=zc});var ts=_(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});var Xc=Jo(),es=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=Xc.default(this._queue,n,(o,s)=>s.priority-o.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t==null?void 0:t.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};Vr.default=es});var is=_(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});var Zc=Qo(),rs=Vo(),Vc=ts(),Ut=()=>{},Jc=new rs.TimeoutError,ns=class extends Zc{constructor(t){var r,n,i,o;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Ut,this._resolveIdle=Ut,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:Vc.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(o=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===Infinity||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Ut,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Ut,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let o=async()=>{this._pendingCount++,this._intervalCount++;try{let s=this._timeout===void 0&&r.timeout===void 0?t():rs.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(Jc)});n(await s)}catch(s){i(s)}this._next()};this._queue.enqueue(o,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};Jr.default=ns});var ss=_((Ep,en)=>{"use strict";var os=(e,...t)=>new Promise(r=>{r(e(...t))});en.exports=os;en.exports.default=os});var as=_((wp,tn)=>{"use strict";var ef=ss(),us=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],r=0,n=()=>{r--,t.length>0&&t.shift()()},i=(u,a,...l)=>{r++;let c=ef(u,...l);a(c),c.then(n,n)},o=(u,a,...l)=>{r<e?i(u,a,...l):t.push(i.bind(null,u,a,...l))},s=(u,...a)=>new Promise(l=>o(u,l,...a));return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),s};tn.exports=us;tn.exports.default=us});var cs=_(nn=>{"use strict";var rn=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};nn.Semaphore=rn;var ls=class extends rn{constructor(){super(1)}};nn.Mutex=ls});var ps=_((Tp,fs)=>{"use strict";fs.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var on=_((Ip,hs)=>{"use strict";var tf=ps();hs.exports=e=>typeof e=="string"?e.replace(tf(),""):e});var gs=_((kp,sn)=>{"use strict";var ds=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);sn.exports=ds;sn.exports.default=ds});var xs=_((Lp,ys)=>{"use strict";var ms="[\uD800-\uDBFF][\uDC00-\uDFFF]",rf=e=>e&&e.exact?new RegExp(`^${ms}$`):new RegExp(ms,"g");ys.exports=rf});var Cs=_((Op,bs)=>{"use strict";bs.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var un=_(($p,As)=>{var gt=Cs(),vs={};for(let e of Object.keys(gt))vs[gt[e]]=e;var E={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};As.exports=E;for(let e of Object.keys(E)){if(!("channels"in E[e]))throw new Error("missing channels property: "+e);if(!("labels"in E[e]))throw new Error("missing channel labels property: "+e);if(E[e].labels.length!==E[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=E[e];delete E[e].channels,delete E[e].labels,Object.defineProperty(E[e],"channels",{value:t}),Object.defineProperty(E[e],"labels",{value:r})}E.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=o-i,u,a;o===i?u=0:t===o?u=(r-n)/s:r===o?u=2+(n-t)/s:n===o&&(u=4+(t-r)/s),u=Math.min(u*60,360),u<0&&(u+=360);let l=(i+o)/2;return o===i?a=0:l<=.5?a=s/(o+i):a=s/(2-o-i),[u,a*100,l*100]};E.rgb.hsv=function(e){let t,r,n,i,o,s=e[0]/255,u=e[1]/255,a=e[2]/255,l=Math.max(s,u,a),c=l-Math.min(s,u,a),f=function(p){return(l-p)/6/c+1/2};return c===0?(i=0,o=0):(o=c/l,t=f(s),r=f(u),n=f(a),s===l?i=n-r:u===l?i=1/3+t-n:a===l&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,l*100]};E.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=E.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,o*100,n*100]};E.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),o=(1-t-i)/(1-i)||0,s=(1-r-i)/(1-i)||0,u=(1-n-i)/(1-i)||0;return[o*100,s*100,u*100,i*100]};function nf(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}E.rgb.keyword=function(e){let t=vs[e];if(t)return t;let r=Infinity,n;for(let i of Object.keys(gt)){let o=gt[i],s=nf(e,o);s<r&&(r=s,n=i)}return n};E.keyword.rgb=function(e){return gt[e]};E.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,o=t*.2126+r*.7152+n*.0722,s=t*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};E.rgb.lab=function(e){let t=E.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(r-n),u=200*(n-i);return[o,s,u]};E.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,o,s;if(r===0)return s=n*255,[s,s,s];n<.5?i=n*(1+r):i=n+r-n*r;let u=2*n-i,a=[0,0,0];for(let l=0;l<3;l++)o=t+1/3*-(l-1),o<0&&o++,o>1&&o--,6*o<1?s=u+(i-u)*6*o:2*o<1?s=i:3*o<2?s=u+(i-u)*(2/3-o)*6:s=u,a[l]=s*255;return a};E.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+r)/2,u=n===0?2*i/(o+i):2*r/(n+r);return[t,u*100,s*100]};E.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),u=255*n*(1-r*o),a=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,a,s];case 1:return[u,n,s];case 2:return[s,n,a];case 3:return[s,u,n];case 4:return[a,s,n];case 5:return[n,s,u]}};E.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),o,s;s=(2-r)*n;let u=(2-r)*i;return o=r*i,o/=u<=1?u:2-u,o=o||0,s/=2,[t,o*100,s*100]};E.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let s=Math.floor(6*t),u=1-n;o=6*t-s,(s&1)!=0&&(o=1-o);let a=r+o*(u-r),l,c,f;switch(s){default:case 6:case 0:l=u,c=a,f=r;break;case 1:l=a,c=u,f=r;break;case 2:l=r,c=u,f=a;break;case 3:l=r,c=a,f=u;break;case 4:l=a,c=r,f=u;break;case 5:l=u,c=r,f=a;break}return[l*255,c*255,f*255]};E.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,o=1-Math.min(1,t*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),u=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,u*255]};E.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,o,s;return i=t*3.2406+r*-1.5372+n*-.4986,o=t*-.9689+r*1.8758+n*.0415,s=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};E.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(t-r),s=200*(r-n);return[i,o,s]};E.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,o,s;o=(t+16)/116,i=r/500+o,s=o-n/200;let u=o**3,a=i**3,l=s**3;return o=u>.008856?u:(o-16/116)/7.787,i=a>.008856?a:(i-16/116)/7.787,s=l>.008856?l:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};E.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(r*r+n*n);return[t,s,i]};E.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,o=r*Math.cos(i),s=r*Math.sin(i);return[t,o,s]};E.rgb.ansi16=function(e,t=null){let[r,n,i]=e,o=t===null?E.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(s+=60),s};E.hsv.ansi16=function(e){return E.rgb.ansi16(E.hsv.rgb(e),e[2])};E.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};E.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[n,i,o]};E.ansi256.rgb=function(e){if(e>=232){let o=(e-232)*10+8;return[o,o,o]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};E.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};E.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(u=>u+u).join(""));let n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};E.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),o=Math.min(Math.min(t,r),n),s=i-o,u,a;return s<1?u=o/(1-s):u=0,s<=0?a=0:i===t?a=(r-n)/s%6:i===r?a=2+(n-t)/s:a=4+(t-r)/s,a/=6,a%=1,[a*360,s*100,u*100]};E.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};E.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};E.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=t%1*6,s=o%1,u=1-s,a=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=u,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=u,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=u}return a=(1-r)*n,[(r*i[0]+a)*255,(r*i[1]+a)*255,(r*i[2]+a)*255]};E.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};E.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};E.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};E.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],i*100,o*100]};E.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};E.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};E.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};E.gray.hsl=function(e){return[0,0,e[0]]};E.gray.hsv=E.gray.hsl;E.gray.hwb=function(e){return[0,100,e[0]]};E.gray.cmyk=function(e){return[0,0,0,e[0]]};E.gray.lab=function(e){return[e[0],0,0]};E.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};E.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var Rs=_((Np,_s)=>{var jt=un();function of(){let e={},t=Object.keys(jt);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function sf(e){let t=of(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(jt[n]);for(let o=i.length,s=0;s<o;s++){let u=i[s],a=t[u];a.distance===-1&&(a.distance=t[n].distance+1,a.parent=n,r.unshift(u))}}return t}function uf(e,t){return function(r){return t(e(r))}}function af(e,t){let r=[t[e].parent,e],n=jt[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=uf(jt[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}_s.exports=function(e){let t=sf(e),r={},n=Object.keys(t);for(let i=n.length,o=0;o<i;o++){let s=n[o];t[s].parent!==null&&(r[s]=af(s,t))}return r}});var ws=_((Pp,Es)=>{var an=un(),lf=Rs(),Qe={},cf=Object.keys(an);function ff(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function pf(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}cf.forEach(e=>{Qe[e]={},Object.defineProperty(Qe[e],"channels",{value:an[e].channels}),Object.defineProperty(Qe[e],"labels",{value:an[e].labels});let t=lf(e);Object.keys(t).forEach(n=>{let i=t[n];Qe[e][n]=pf(i),Qe[e][n].raw=ff(i)})});Es.exports=Qe});var Os=_((Fp,Ls)=>{"use strict";var Ss=(e,t)=>(...r)=>`[${e(...r)+t}m`,Ts=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};5;${n}m`},Is=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},Gt=e=>e,ks=(e,t,r)=>[e,t,r],ze=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},ln,Xe=(e,t,r,n)=>{ln===void 0&&(ln=ws());let i=n?10:0,o={};for(let[s,u]of Object.entries(ln)){let a=s==="ansi16"?"ansi":s;s===t?o[a]=e(r,i):typeof u=="object"&&(o[a]=e(u[t],i))}return o};function hf(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,o]of Object.entries(n))t[i]={open:`[${o[0]}m`,close:`[${o[1]}m`},n[i]=t[i],e.set(o[0],o[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",ze(t.color,"ansi",()=>Xe(Ss,"ansi16",Gt,!1)),ze(t.color,"ansi256",()=>Xe(Ts,"ansi256",Gt,!1)),ze(t.color,"ansi16m",()=>Xe(Is,"rgb",ks,!1)),ze(t.bgColor,"ansi",()=>Xe(Ss,"ansi16",Gt,!0)),ze(t.bgColor,"ansi256",()=>Xe(Ts,"ansi256",Gt,!0)),ze(t.bgColor,"ansi16m",()=>Xe(Is,"rgb",ks,!0)),t}Object.defineProperty(Ls,"exports",{enumerable:!0,get:hf})});var Hs=_((Hp,Fs)=>{"use strict";var df=gs(),gf=xs(),$s=Os(),Ns=["","\x9B"],Wt=e=>`${Ns[0]}[${e}m`,Ps=(e,t,r)=>{let n=[];e=[...e];for(let i of e){let o=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");let s=$s.codes.get(Number.parseInt(i,10));if(s){let u=e.indexOf(s.toString());u===-1?n.push(Wt(t?s:o)):e.splice(u,1)}else if(t){n.push(Wt(0));break}else n.push(Wt(o))}if(t&&(n=n.filter((i,o)=>n.indexOf(i)===o),r!==void 0)){let i=Wt($s.codes.get(Number.parseInt(r,10)));n=n.reduce((o,s)=>s===i?[s,...o]:[...o,s],[])}return n.join("")};Fs.exports=(e,t,r)=>{let n=[...e],i=[],o=typeof r=="number"?r:n.length,s=!1,u,a=0,l="";for(let[c,f]of n.entries()){let p=!1;if(Ns.includes(f)){let g=/\d[^m]*/.exec(e.slice(c,c+18));u=g&&g.length>0?g[0]:void 0,a<o&&(s=!0,u!==void 0&&i.push(u))}else s&&f==="m"&&(s=!1,p=!0);if(!s&&!p&&a++,!gf({exact:!0}).test(f)&&df(f.codePointAt())&&(a++,typeof r!="number"&&o++),a>t&&a<=o)l+=f;else if(a===t&&!s&&u!==void 0)l=Ps(i);else if(a>=o){l+=Ps(i,!0,u);break}}return l}});var _f={};hu(_f,{default:()=>Af});var bt=H(Y("clipanion"));var Zt=H(Y("@yarnpkg/cli")),se=H(Y("@yarnpkg/core")),Z=H(Y("clipanion")),hn=H(Y("path")),yt=H(dr());var ht=H(Y("@yarnpkg/fslib")),P=H(Y("typanion")),Bt=H(Bo()),Uc=".yarnbuildrc.yml",jc=".bundleignore",Kr=P.isObject({folders:P.isObject({input:P.isOneOf([P.isString(),P.isArray(P.isString())]),output:P.isOneOf([P.isString(),P.isArray(P.isString())])}),exclude:P.isArray(P.isString()),bail:P.isBoolean(),hideYarnBuildBadge:P.isBoolean(),ignoreFile:P.isString(),maxConcurrency:P.isOptional(P.applyCascade(P.isNumber(),[P.isInteger(),P.isInInclusiveRange(1,128)]))}),Qr={folders:{input:".",output:["build","node_modules"]},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:jc,maxConcurrency:8};async function Gc(e){let t=Uc,r=ht.ppath.join(e.projectCwd||e.startingCwd,t);if(ht.xfs.existsSync(r)){let n=await ht.xfs.readFilePromise(r,"utf8"),i=[];try{let o=(0,Bt.load)(n,{schema:Bt.JSON_SCHEMA});if(Kr(o,{errors:i}))return o;console.warn(i)}catch(o){let s="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(s=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${s}`)}}return Qr}async function Do(e){var r;let t=await Gc(e);return W(k(k({},Qr),t),{folders:k(k({},Qr.folders),(r=t.folders)!=null?r:{})})}var I=H(Y("@yarnpkg/core")),me=H(Yo()),js=H(Y("os")),xe=H(Y("@yarnpkg/fslib"));var Gs=H(dr()),Ws=H(Y("events")),Ys=H(is()),Qt=H(Y("path")),Ks=H(as()),fn=H(cs()),zt=H(on()),Xt=H(Hs());var Ve=class{constructor(){this.nodes={};this.size=0;this.runSize=0;this.ran=new Set;this.dryRunCallback=()=>{}}addNode(t){if(this.nodes[t])return this.nodes[t];let r=new Ze(t);return this.nodes[t]=r,this.size=Object.keys(this.nodes).length,this.checkCyclical(r),r}addRunCallback(t,r){let n=t;this.nodes[t.id]||(n=this.addNode(t.id)),n.runCallback||(n.addRunCallback(r),this.runSize++)}getNode(t){if(this.nodes[t])return this.nodes[t]}resetRuns(){this.ran=new Set}checkCyclical(t){let r=new Set,n=new Set;this.resolveNode(t,r,n)}resolveNode(t,r,n){n.add(t.id),Object.keys(t.dependencies).forEach(i=>{let o=t.dependencies[i];if(!r.has(o.id)){if(n.has(o.id))throw new Yt(t.id,o.id);this.resolveNode(o,r,n)}}),r.add(t.id),n.delete(t.id)}async run(t,r=!1){let n=new Set,i=new Set,o={};for(let s of t)this.resolveQueue(s,n,o);return r?(await this.dryRunLoop(n,o,i,0),o):(await new Promise(s=>{this.workLoop(n,o,i,s)}),o)}async dryRunLoop(t,r,n,i=0){if(n.forEach((o,s)=>{this.dryRunCallback(o,i-1),r[o.id]={success:!0,done:!0},n.delete(s)}),t.size!==0&&t.forEach(o=>{var s;o.canStart(r)&&((s=o==null?void 0:o.node)==null?void 0:s.runCallback)&&(n.add(o.node),t.delete(o))}),n.size!=0)return await this.dryRunLoop(t,r,n,i+1)}workLoop(t,r,n,i){if(t.size!==0&&t.forEach(o=>{var s,u;o.canStart(r)&&(((s=o==null?void 0:o.node)==null?void 0:s.runCallback)?((u=o==null?void 0:o.node)==null||u.runCallback(r),n.add(o.node)):r[o.node.id]={success:!0,done:!0},t.delete(o))}),n.forEach((o,s)=>{r[o.id].done&&n.delete(s)}),Object.keys(r).map(o=>{var s,u;return(u=(s=r[o])==null?void 0:s.done)!=null?u:!0}).every(o=>o===!0)){i();return}setTimeout(()=>this.workLoop(t,r,n,i),30)}resolveQueue(t,r,n){let i=[];if(Object.keys(t.dependencies).forEach(o=>{let s=t.dependencies[o];if(i.push(s.id),!n[s.id]&&s.runCallback){n[s.id]=k({},Ve.RunLogInit);let u=this.resolveQueue(s,r,n),a={node:s,canStart:Ve.QueueItemCanStart(u)};r.add(a)}}),!n[t.id]&&t.runCallback){n[t.id]=k({},Ve.RunLogInit);let o={node:t,canStart:Ve.QueueItemCanStart(i)};r.add(o)}return i}},mt=Ve;mt.RunLogInit={success:!1,done:!1},mt.QueueItemCanStart=t=>r=>t.map(n=>{var i,o;return(o=(i=r[n])==null?void 0:i.done)!=null?o:!0}).every(n=>n===!0);var Ze=class{constructor(t){this.cancelled=!1;this.skip=!1;this.id=t,this.dependencies={}}addDependency(t){return this.dependencies[t.id]||(this.dependencies[t.id]=t),this}addRunCallback(t){return this.runCallback?this:(this.runCallback=r=>{if(!this.cancelled)return t(Ze.cancelDependentJobs(this)).then(n=>{r[this.id]={done:!0,success:n}})},this)}static cancelDependentJobs(t){return()=>{typeof t.dependencies!="undefined"&&Object.keys(t.dependencies).forEach(r=>{let n=t.dependencies[r];n.cancelled=!0})}}},Yt=class extends Error{constructor(t,r){super("");this.name="CyclicDependencyError",this.code="YN0003",this.node=t,this.dep=r}};var Ms=H(on()),mf="",de=mf+"[",cn=class{static pad(t=1){for(let r=0;r<t;r++)process.stdout.write(`
`);cn.cursorUp(t)}static cursorUp(t=1){process.stdout.write(de+`${t}A`)}static cursorSave(){process.stdout.write(de+"s")}static cursorRestore(){process.stdout.write(de+"u")}static autoWrap(t){t?process.stdout.write(de+"?7h"):process.stdout.write(de+"?7l")}static clearScreenDown(){process.stdout.write(de+"J")}static async cursorPositionReport(){return new Promise(t=>{process.stdin.setRawMode(!0),process.stdin.once("data",r=>{process.stdin.setRawMode(!1),process.stdin.pause();let[n,i]=r.slice(2,r.length-1).toString().split(";").map(Number);t({x:i,y:n})}),process.stdout.write(de+"6n")})}static setScrollableRegion(t,r){process.stdout.write(de+`${t};${r}r`)}static resetScrollableRegion(){process.stdout.write(de+"r")}static moveTo(t){process.stdout.write(de+`${t.y};${t.x}H`)}static cursorHome(){process.stdout.write(de+"H")}static alternateScreen(){process.stdout.write(de+"?1049h")}static mainScreen(){process.stdout.write(de+"?1049l")}static linesRequired(t,r){var o;let n=new RegExp(`([^
]{0,${r}})(
)?`,"gm");return((o=(0,Ms.default)(t).match(n))!=null?o:[""]).length-1}},ye=cn;ye.row=0,ye.column=0;var Ds=H(Y("child_process")),qs=H(Y("util"));var Bs=()=>process.platform==="win32"?"windows":"unix";var yf=(0,qs.promisify)(Ds.exec),Us=async e=>{let t=Bs(),r=(({platform:i,pid:o})=>{switch(i){case"unix":return`pgrep "-P ${o}"`;case"windows":return`wmic process where (ParentProcessId=${o}) get ProcessId`;default:throw new Error("Unable to find parent process")}})({platform:t,pid:e}),n=[];try{let{stdout:i}=await yf(r);n=i.split(`
`).filter(Boolean).map(o=>parseInt(o,10)).filter(o=>!isNaN(o))}catch(i){}return n};var Je={hasBeenTerminated:!1,callId:0},Kt=async(e=0)=>{if(e!==Je.callId||Je.hasBeenTerminated)return;let t=process.pid;(await Us(t)).forEach(i=>{try{process.kill(i,"SIGKILL")}catch(o){}});let n=Je.callId+1;Je.callId=n,setTimeout(async()=>{Kt(n)},50)};var xf="yarn.build.json",Qs=80,bf="-".repeat(Qs),Ee;(function(o){o.pending="pending",o.skipped="skipped",o.inProgress="inProgress",o.failed="failed",o.succeeded="succeeded"})(Ee||(Ee={}));var j;(function(c){c.pending="pending",c.start="start",c.info="info",c.error="error",c.skipped="skipped",c.ignored="ignored",c.success="success",c.fail="fail",c.finish="finish",c.forceQuit="force-quit"})(j||(j={}));var zs=class{constructor({project:t,report:r,runCommand:n,cli:i,configuration:o,pluginConfiguration:s,dryRun:u,ignoreRunCache:a,verbose:l,concurrency:c,continueOnError:f,excludeWorkspacePredicate:p}){this.runGraph=new mt;this.runLength=0;this.runTargets=[];this.runMutexes={};this.dryRun=!1;this.ignoreRunCache=!1;this.verbose=!1;this.continueOnError=!1;this.entrypoints=new Set;this.excluded=new Set;this.runReporter=new Ws.EventEmitter;this.runReport={mutex:new fn.Mutex,totalJobs:0,skipCount:0,previousOutput:"",successCount:0,failCount:0,ignoredCount:0,workspaces:{},done:!1};this.header="";this.nextUnitOfWork=[];this.hasSetup=!1;this.setupRunReporter=()=>{this.runReporter.on(j.pending,(t,r,n)=>{this.runReport.mutex.acquire().then(i=>{this.runReport.workspaces[t]={name:n,stdout:[],stderr:[],done:!1,fail:!1,locator:r},i()})}),this.runReporter.on(j.start,(t,r,n,i)=>{this.runReport.mutex.acquire().then(o=>{this.runReport.workspaces[t]=W(k({},this.runReport.workspaces[t]),{start:Date.now(),runScript:i,name:n,locator:r}),o()})}),this.runReporter.on(j.info,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stdout.push(r),n()})}),this.runReporter.on(j.error,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),n()})}),this.runReporter.on(j.success,t=>{this.runReport.mutex.acquire().then(r=>{var i;this.runReport.workspaces[t]=W(k({},this.runReport.workspaces[t]),{done:!0}),this.runReport.successCount++;let n=this.runReport.workspaces[t];me.default&&process.stdout.write(`[success] ${n.name.padEnd(60," ")}${He(0,(i=n.runtimeSeconds)!=null?i:0).padStart(10)}
`),r()})}),this.runReporter.on(j.skipped,t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].skipped=!0,this.runReport.skipCount++,r()})}),this.runReporter.on(j.ignored,t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].ignored=!0,this.runReport.ignoredCount++,r()})}),this.runReporter.on(j.fail,(t,r)=>{this.runReport.mutex.acquire().then(n=>{var s,u;typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].fail=!0,this.runReport.failCount++,n();let i=this.runReport.workspaces[t],o=(s=this.runLog)==null?void 0:s.get(`${t}#${this.runCommand}`);me.default&&process.stdout.write(`=> [fail${(o==null?void 0:o.exitCode)?`: ${o==null?void 0:o.exitCode}`:""}] ${i.name.padEnd(60," ")}${He(0,(u=i.runtimeSeconds)!=null?u:0).padStart(10)}
`)})})};this.getDependenciesCount=async t=>{let r=0;for(let n of I.Manifest.hardDependencies)for(let i of t.manifest.getForScope(n).values())this.project.tryWorkspaceByDescriptor(i)!==null&&(r+=1);return r};this.plan=async(t,r)=>{var o,s,u,a,l;if(!t)throw new Error("Internal error: lost reference to parent workspace. Please open an issue.");this.runGraph.checkCyclical(t);let n=!1;this.runMutexes[r.relativeCwd]=new fn.Mutex;for(let c of I.Manifest.hardDependencies)for(let f of r.manifest.getForScope(c).values()){let p=this.project.tryWorkspaceByDescriptor(f);if(p===null||this.excludeWorkspacePredicate(p))continue;let g=this.runGraph.addNode(p.relativeCwd);this.runGraph.addRunCallback(g,this.createRunItem(p)),t.addDependency(g),this.runGraph.checkCyclical(g);let x=await this.plan(g,p),y=!1;p!==this.project.topLevelWorkspace&&(y=await this.checkIfRunIsRequired(p)),(y||x)&&(n=!0,this.removeFromExcluded(p))}let i=!1;if(r!==this.project.topLevelWorkspace&&(i=await this.checkIfRunIsRequired(r)),this.runReporter.emit(j.pending,r.relativeCwd,r.locator),n||i){this.runReporter.emit(j.pending,r.relativeCwd,r.locator,`${((o=r.manifest.name)==null?void 0:o.scope)?`@${(s=r.manifest.name)==null?void 0:s.scope}/`:""}${(u=r.manifest.name)==null?void 0:u.name}`),this.runGraph.addRunCallback(t,this.createRunItem(r)),this.removeFromExcluded(r),this.entrypoints.add(t),this.runTargets.push(r);return}else{let c=(a=this.runLog)==null?void 0:a.get(`${r.relativeCwd}#${this.runCommand}`);c&&((l=this.runLog)==null||l.set(`${r.relativeCwd}#${this.runCommand}`,{lastModified:c.lastModified,status:Ee.succeeded,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}))}};this.performDryRun=async()=>{let t=this.concurrency;this.concurrency=1;let r="",n={1:[]};this.runGraph.dryRunCallback=(s,u)=>{n[u]?n[u].push(s.id):n[u]=[s.id]},await this.runGraph.run(Array.from(this.entrypoints),!0);let i=(s,u,a,l)=>{let c=l&&a?"\u2514\u2500":a?"\u2514\u2500\u252C":"\u251C\u2500";return`${s==0?"":"  ".repeat(s)}${c} ${u}`},o=Object.keys(n);return o.forEach((s,u)=>{let a=parseInt(s),l=n[a],c=u==o.length-1;l.forEach((f,p)=>{let g=this.runGraph.getNode(f);r+=i(a,f,p==l.length-1,c),g instanceof Ze&&g.skip&&(r+="(skip)"),r+=`
`})}),this.concurrency=t,r};this.run=async()=>{var i,o;let t="";if(this.hasSetup===!1)throw new Error("RunSupervisor is not setup, you need to call await supervisor.setup()");if(this.runReport.runStart=Date.now(),(me.default||this.dryRun)&&(t+=`${this.formatHeader("Run Order")+`
`}`,t+=await this.performDryRun(),me.default||(t+=`${this.formatHeader(`Dry Run / Command: ${this.runCommand} / Total: ${this.runGraph.runSize}`,0,!0)+`
`}`),process.stdout.write(t),t="",this.dryRun))return!0;me.default||ye.pad(this.concurrency+3),me.default&&process.stdout.write(`
${this.formatHeader(`Run / Command: ${this.runCommand} / Concurrency: ${this.concurrency}`,0,!1)+`
`}`),this.raf(this.waitUntilDone),this.currentRunTarget=this.runTargets.length>1?"All":(o=(i=this.runTargets[0])==null?void 0:i.relativeCwd)!=null?o:"Nothing to run",me.default||process.stderr.write(`
`),this.header=this.generateHeaderString(),await this.runGraph.run(Array.from(this.entrypoints));let r=await this.runReport.mutex.acquire();this.runReport.done=!0,r();let n=this.generateFinalReport();return typeof n=="string"&&process.stdout.write(`
${n}
`),await this.saveRunLog(),this.runReport.failCount===0};this.raf=t=>{setImmediate(()=>t(Date.now()))};this.waitUntilDone=t=>{if(this.runReport.done)return;let r=90,n="";me.default?this.updateProgressCI(t):(n=this.generateProgressString(t),ye.cursorUp(ye.linesRequired(this.runReport.previousOutput,process.stdout.columns)),ye.clearScreenDown()),typeof n!="undefined"&&typeof n=="string"&&process.stdout.write(n),this.runReport.previousOutput=n,Cf(r).then(()=>{this.raf(this.waitUntilDone)})};this.grey=t=>I.formatUtils.pretty(this.configuration,t,"grey");this.generateRunCountString=t=>{let r="";if(this.runReport.runStart){let n=I.formatUtils.pretty(this.configuration,`${this.runReport.successCount}`,"green"),i=I.formatUtils.pretty(this.configuration,`${this.runReport.failCount}`,"red"),o=I.formatUtils.pretty(this.configuration,`${this.runGraph.runSize}`,"white");r+=this.formatHeader(`${n}:${i}/${o} ${He(this.runReport.runStart,t)}`,0,!0)+`
`}return r};this.generateFinalReport=()=>{var o;me.default||(ye.cursorUp(ye.linesRequired(this.runReport.previousOutput,process.stdout.columns)),ye.clearScreenDown());let t=!1,r="";if(this.runReport.failCount!==0&&(t=!0),this.verbose&&(t=!0),me.default&&(t=!0),t){let s=[];r+=`${this.formatHeader(this.header)+`
`}`;for(let u in this.runReport.workspaces){let a=this.runReport.workspaces[u];a.fail&&s.push(u),!(this.runReport.failCount!==0&&a.fail===!1)&&((a.stdout.length!==0||a.stderr.length!==0)&&(r+=`
${this.formatHeader(`Output: ${I.formatUtils.pretty(this.configuration,u,I.FormatType.PATH)}`,2)+`
`}`),a.stdout.length!==0&&a.stdout.forEach(l=>{l.split(`
`).forEach(f=>{typeof f!="undefined"&&f.length!==0&&(r+=`${f+`
`}`)})}),a.stderr.length!==0&&(r+=`
${"[stderr]"+`
`}`,a.stderr.forEach(c=>{(c instanceof Error?c.toString():`${c}`).split(`
`).forEach(g=>{typeof g!="undefined"&&g.length!==0&&(r+=`${g+`
`}`)})})))}s.length>=2&&(r+=`${this.grey(bf)+`
`}`,r+=`${this.grey(`ERROR for script ${this.header}
The following packages returned an error.
`)}`,s.forEach(a=>{r+=`${`- ${I.formatUtils.pretty(this.configuration,a,I.FormatType.PATH)}`+`
`}`}))}let n=this.formatHeader(`${I.formatUtils.pretty(this.configuration,`${this.runCommand} finished`,this.runReport.failCount===0?"green":"red")}${this.runReport.failCount!=0?I.formatUtils.pretty(this.configuration,` with ${this.runReport.failCount} errors`,"red"):""}`,0,!0)+`
`;if(r+=`
`+this.formatHeader("Summary")+`
`,this.runReport.runStart){let{successCount:s,failCount:u,ignoredCount:a,skipCount:l}=this.runReport,c=this.runGraph.runSize-a,f=c-u-s-l,p=I.formatUtils.pretty(this.configuration,`Success: ${s}`,"green"),g=I.formatUtils.pretty(this.configuration,`Fail: ${u}`,"red"),x=I.formatUtils.pretty(this.configuration,`Skipped: ${l}`,"white"),y=I.formatUtils.pretty(this.configuration,`Excluded: ${this.excluded.size}`,"white"),C=I.formatUtils.pretty(this.configuration,`Up to date: ${f}`,"white"),w=I.formatUtils.pretty(this.configuration,`Total: ${c}`,"white");if(r+=p+`
`,r+=C+`
`,r+=g+`
`,this.verbose&&u>0&&Object.keys(this.runReport.workspaces).forEach(v=>{let $=this.runReport.workspaces[v];$.fail&&(r+=` - ${I.formatUtils.pretty(this.configuration,v,"grey")}${I.formatUtils.pretty(this.configuration,$.locator,"IDENT")}
`)}),r+=x+`
`,this.verbose&&l>0&&Object.keys(this.runReport.workspaces).forEach(v=>{let $=this.runReport.workspaces[v];$.skipped&&(r+=` - ${I.formatUtils.pretty(this.configuration,v,"grey")}${I.formatUtils.pretty(this.configuration,$.locator,"IDENT")}
`)}),r+=y+`
`,this.verbose&&this.excluded.size>0)for(let v of this.excluded)r+=` - ${I.formatUtils.pretty(this.configuration,v.relativeCwd,"grey")}${I.formatUtils.pretty(this.configuration,v.locator,"IDENT")}
`;r+=w+`
`+this.grey("---")+`
`}let i=50;for(let s in this.runReport.workspaces)i+=(o=this.runReport.workspaces[s].runtimeSeconds)!=null?o:0;if(!!this.runReport.runStart&&this.runGraph.runSize>1){let s=i,a=Date.now()-this.runReport.runStart,l=He(a,s);me.default||(r+=`Cumulative: (cpu): ${He(0,i)}
`,r+=`Saved: ${l}
`)}return this.runReport.runStart&&(r+="Runtime (wall): "+He(Date.now(),this.runReport.runStart)+`
`),r+=n,r+=`
`,r};this.createRunItem=t=>async r=>await this.limit(async()=>{var s,u,a,l,c,f,p,g;let n=t.relativeCwd,i=t.manifest.scripts.get(this.runCommand),o=(s=this.runLog)==null?void 0:s.get(`${t.relativeCwd}#${this.runCommand}`);if(this.runReporter.emit(j.start,t.relativeCwd,t.locator,`${((u=t.manifest.name)==null?void 0:u.scope)?`@${(a=t.manifest.name)==null?void 0:a.scope}/`:""}${(l=t.manifest.name)==null?void 0:l.name}`,i),!i)return this.verbose&&this.runReporter.emit(j.info,t.relativeCwd,`[skip] No \`${this.runCommand}\` script in manifest.`),this.runReporter.emit(j.ignored,t.relativeCwd),!0;try{if(this.runReport.failCount!==0&&(this.runReporter.emit(j.skipped,t.relativeCwd),(c=this.runLog)==null||c.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:o==null?void 0:o.lastModified,status:Ee.skipped,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),this.continueOnError===!1))return!1;let x=await this.cli(this.runCommand,t.cwd,this.runReporter,n);if(x!==0)return this.runReporter.emit(j.fail,t.relativeCwd),(f=this.runLog)==null||f.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:o==null?void 0:o.lastModified,status:Ee.failed,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand,exitCode:`${x}`}),this.continueOnError===!1&&Kt(),!1;(p=this.runLog)==null||p.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:o==null?void 0:o.lastModified,status:Ee.succeeded,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),this.runReporter.emit(j.success,t.relativeCwd)}catch(x){return this.runReporter.emit(j.fail,t.relativeCwd,x),(g=this.runLog)==null||g.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:o==null?void 0:o.lastModified,status:Ee.failed,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),this.continueOnError===!1&&(r(),Kt()),!1}return!1});let g=c!=null?c:Math.max(1,(0,js.cpus)().length);this.configuration=o,this.pluginConfiguration=s,this.project=t,this.report=r,this.runCommand=n,this.cli=i,this.dryRun=u,this.ignoreRunCache=a,this.verbose=l,this.concurrency=g,this.continueOnError=f,this.limit=(0,Ks.default)(g),this.queue=new Ys.default({concurrency:g,carryoverConcurrencyCount:!0,timeout:5e4,throwOnTimeout:!0,autoStart:!0}),this.excludeWorkspacePredicate=p,this.verbose&&(this.errorLogFile=xe.xfs.createWriteStream(this.getRunErrorPath(),{flags:"a"}))}async setup(){this.runLog=await this.readRunLog(),this.setupRunReporter(),this.hasSetup=!0}getRunErrorPath(){return xe.ppath.resolve(this.project.cwd,"yarn.build-error.log")}getRunLogPath(){return xe.ppath.resolve(this.project.cwd,".yarn",xf)}async readRunLog(){let t=new Map;try{let r=await xe.xfs.readJsonPromise(this.getRunLogPath());if(r&&r.packages)for(let n in r.packages)t.set(n,{lastModified:r.packages[n].lastModified,status:r.packages[n].status,haveCheckedForRerun:!1,rerun:!0,command:this.runCommand})}catch{}return t}async saveRunLog(){if(!this.runLog)return;let t;try{t=await xe.xfs.readJsonPromise(this.getRunLogPath())}catch{}let r={comment:"This is an auto-generated file, it keeps track of whats been built. This is a local file, don't store this in version control.",packages:k({},t&&t.packages)};for(let[n,i]of this.runLog)i.status===Ee.succeeded&&(r.packages[n]=k(k({},r.packages[n]),this.runLog.get(n)));await xe.xfs.writeJsonPromise(this.getRunLogPath(),r)}removeFromExcluded(t){this.excluded.has(t)&&this.excluded.delete(t)}async addRunTarget(t){if(this.excluded.has(t))return;if(this.excludeWorkspacePredicate(t)){this.excluded.add(t);return}let r=this.runGraph.addNode(t.relativeCwd);await this.plan(r,t)}getWorkspaceConfig(t){let r=[],n=W(k({},this.pluginConfiguration),{folders:k(k({},this.pluginConfiguration.folders),t==null?void 0:t.manifest.raw["yarn.build"])});return Kr(n,{errors:r})?n:(console.warn(r),this.pluginConfiguration)}async checkIfRunIsRequired(t){var f,p,g,x,y,C,w,v,$,te,F,ue,M,T;if(this.ignoreRunCache===!0)return!0;if(typeof t.manifest.scripts.get(this.runCommand)!="string")return!1;let r=!1,n=xe.ppath.resolve(t.project.cwd,t.relativeCwd),i=this.getWorkspaceConfig(t),o=Array.isArray(i.folders.output)?[...i.folders.output]:[i.folders.output];typeof((p=(f=t==null?void 0:t.manifest)==null?void 0:f.raw)==null?void 0:p.bin)=="string"?o.push(t.manifest.raw.bin):typeof((y=(x=(g=t==null?void 0:t.manifest)==null?void 0:g.raw)==null?void 0:x.directories)==null?void 0:y.bin)=="string"?o.push(t.manifest.raw.directories.bin):typeof((w=(C=t==null?void 0:t.manifest)==null?void 0:C.raw)==null?void 0:w.files)=="string"?o.push(t.manifest.raw.files):Array.isArray(($=(v=t==null?void 0:t.manifest)==null?void 0:v.raw)==null?void 0:$.files)?o.push(...t.manifest.raw.files):typeof((F=(te=t==null?void 0:t.manifest)==null?void 0:te.raw)==null?void 0:F.main)=="string"&&o.push(t.manifest.raw.main);let s=o.map(R=>`${n}${Qt.default.posix.sep}${R}`),u=i.folders.input,a=typeof u=="string"?[u]:u,l=a==null?void 0:a.map(R=>`${n}${Qt.default.posix.sep}${R}`).map(R=>(R==null?void 0:R.endsWith("/."))?R.substring(0,R.length-2):R),c=await this.runReport.mutex.acquire();try{let R=(ue=this.runLog)==null?void 0:ue.get(`${t.relativeCwd}#${this.runCommand}`);if(R==null?void 0:R.haveCheckedForRerun)return(M=R==null?void 0:R.rerun)!=null?M:!0;let Q=await Xs(l!=null?l:[n],s);(R==null?void 0:R.lastModified)!==Q&&(r=!0),(T=this.runLog)==null||T.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:Q,status:r?Ee.succeeded:Ee.pending,haveCheckedForRerun:!0,rerun:r,command:this.runCommand})}catch(R){this.runReport.workspaces[t.relativeCwd].stderr.push(new Error(`${t.relativeCwd}: failed to get lastModified (${R})`))}finally{c()}return r}formatHeader(t,r=0,n=!1){let i=`${this.grey("-".repeat(r)+"[")} ${t} ${this.grey("]")}`,o=(0,zt.default)(i).length,s=n?"[ yarn.build ]":"",u=Qs-o;return n&&(u-=s.length),i+this.grey("-".repeat(u))+this.grey(s)}generateHeaderString(){return`${I.formatUtils.pretty(this.configuration,`${this.runCommand}`,I.FormatType.CODE)} for ${I.formatUtils.pretty(this.configuration,this.currentRunTarget?this.currentRunTarget:"",I.FormatType.SCOPE)}${this.dryRun?I.formatUtils.pretty(this.configuration," --dry-run",I.FormatType.NAME):""}`}updateRuntime(t){for(let r in this.runReport.workspaces){let n=this.runReport.workspaces[r];!n||!n.start||n.done||this.runReport.runStart&&(this.runReport.workspaces[r].runtimeSeconds=t-this.runReport.runStart)}}updateProgressCI(t){this.updateRuntime(t)}generateProgressString(t){let r="",n=s=>this.grey(`[${s}]`),i=I.formatUtils.pretty(this.configuration,"IDLE","grey");r+=this.formatHeader(this.generateHeaderString())+`
`,this.updateRuntime(t);let o=1;for(let s in this.runReport.workspaces){let u=this.runReport.workspaces[s];if(!u||!u.start||u.done)continue;let a=I.formatUtils.pretty(this.configuration,s,I.FormatType.PATH),l=I.formatUtils.pretty(this.configuration,`(${u.runScript})`,I.FormatType.REFERENCE),c=u.start?I.formatUtils.pretty(this.configuration,He(u.start,t),I.FormatType.RANGE):"",f=n(o++),p=" ".repeat(f.length-1),g=I.formatUtils.pretty(this.configuration,u.name,I.FormatType.NAME),x=`${f} ${g}${I.formatUtils.pretty(this.configuration,"@","grey")}${a} ${l} ${c}
`,y="",C="",w="";(0,zt.default)(x).length>=process.stdout.columns&&(y=`${f} ${a}${g}
`,C=`${p} ${l} ${c}
`,(0,zt.default)(y).length>=process.stdout.columns&&(y=(0,Xt.default)(`${f} ${a}
`,0,process.stdout.columns),C=(0,Xt.default)(`${p} ${g}
`,0,process.stdout.columns),w=(0,Xt.default)(`${p} ${l} ${c}
`,0,process.stdout.columns)),x=y+C+w),r+=x}for(o;o<this.concurrency+1;)r+=`${n(o++)} ${i}
`;return this.runReport.runStart&&(r+=this.generateRunCountString(t)),r}},Xs=async(e,t)=>{let r=await Promise.all(e.map(async n=>{if((t==null?void 0:t.some(o=>n.startsWith(o)))||(t==null?void 0:t.some(o=>Gs.default.isMatch(n,o))))return 0;let i=await xe.xfs.statPromise(n);if(i.isFile())return i.mtimeMs;if(i.isDirectory()){let o=await xe.xfs.readdirPromise(n);return await Xs(o.map(s=>`${n}${Qt.default.posix.sep}${s}`),t)}return 0}));return Math.max(...r)},He=(e,t)=>{let r=Math.abs(t-e),n="",i=Math.trunc(r/6e4);return i&&(n+=`${i}m`,r-=i*6e4),r&&(i&&(n+=" "),n+=`${(r/1e3).toFixed(2)}s`),n};function Cf(e){return new Promise(t=>setTimeout(t,e))}var Zs=zs;var Vs=H(Y("child_process"));async function pn(e){return new Promise((t,r)=>{let n="";if(e.commit&&(n=`git diff --name-only ..${e.commit}`),e.sinceBranch&&e.sinceBranch.length>0&&(n=`git diff --name-only ${e.sinceBranch}...`),n.length===0)throw new Error("Unable to determine how to detect changes.");(0,Vs.exec)(n,(i,o,s)=>{if(i&&r(i),o){let u=o.split(`
`),l=[...e.root.workspacesCwds].map(c=>{if(u.some(f=>f.startsWith(c.replace(`${e.root.cwd}/`,""))))return c}).filter(c=>!!c).map(c=>!!c&&e.root.project.workspacesByCwd.get(c)).filter(c=>!!c);t(l)}s&&t([])})})}var Me=H(Y("@yarnpkg/core"));var Js=(e,t)=>{let r=[];for(let n of e.workspacesCwds){let i=t.workspacesByCwd.get(n);i&&r.push(i,...Js(i,t))}return r},eu=async({targetWorkspace:e,project:t,supervisor:r})=>{try{if(e.workspacesCwds.size!==0){let n=Js(e,t);for(let i of n)for(let o of Me.Manifest.hardDependencies){for(let s of i.manifest.getForScope(o).values()){let u=t.tryWorkspaceByDescriptor(s);u!==null&&await r.addRunTarget(u)}await r.addRunTarget(i)}await r.addRunTarget(e)}else await r.addRunTarget(e)}catch(n){if(n instanceof Yt){let i=`${r.formatHeader("FATAL")}

You have a cyclic dependency.`,o=n.node.length<n.dep.length+4?"\u21B0":"",s=n.node.length>n.dep.length+4?"\u2934":"";i+=`

${Me.formatUtils.pretty(r.configuration,n.node,"white")} ${o}
 \u21B3 ${Me.formatUtils.pretty(r.configuration,n.dep,"red")} ${s}

`,i+=Me.formatUtils.pretty(r.configuration,`
---

To fix this error you must remove the cyclic dependency.

Workspaces cannot directly or indirectly depend on each other. When running
the provided command yarn.build uses a parallelsied topological sort. This
maximises throughput (saving you time) while ensuring dependencies are run in
the order declared.

In a cyclic dependency A depends on B, which depends on A. Or in an indirect cyclic
dependency, A depends on B, which depends on C, and C depends on A.

In both cases A cannot be built, because to we cannot determine which one goes
first.

---
While some tooling may adapt to cyclic dependencies yarn.build cannot. Doing so
is unsound and unpredictable which goes against the stated goals of the tool.

In most cases this issue occurs by accident when you delcare a dependency on the
wrong package.

In some cases yuo may actually want the cyclic dependency. As that's not
possible, find the parts that are shared and move them to their own package
that both packages can depend on.
---

`,"grey"),i+=Me.formatUtils.pretty(r.configuration,"FATAL: You have a cyclic dependency.","red"),console.error(i),process.exit(2)}else console.error("An error occured in yarn.build.",n)}};var xt=class extends Zt.BaseCommand{constructor(){super(...arguments);this.json=Z.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.all=Z.Option.Boolean("-A,--all",!1,{description:"run for all workspaces of a project"});this.buildCommand=Z.Option.String("-c,--build-command","build",{description:'the command to be run in each package (if available), defaults to "build"'});this.interlaced=Z.Option.Boolean("-i,--interlaced",!0,{description:"If false it will instead buffer the output from each process and print the resulting buffers only after their source processes have exited. Defaults to false."});this.verbose=Z.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.dryRun=Z.Option.Boolean("-d,--dry-run",!1,{description:"simulate running a build, but not actually run it"});this.ignoreBuildCache=Z.Option.Boolean("-r,--ignore-cache",!1,{description:"every package will be built, regardless of whether is has changed or not."});this.maxConcurrency=Z.Option.String("-m,--max-concurrency",{description:"is the maximum number of builds that can run at a time, defaults to the number of logical CPUs on the current machine. Will override the global config option."});this.continueOnError=Z.Option.Boolean("--continue-on-error",!1,{description:"if a build fails, continue with the rest"});this.exclude=Z.Option.Array("--exclude",{description:"exclude specifc packages or glob paths from being built, including their dependencies."});this.excludeCurrent=Z.Option.Boolean("--exclude-current",!1,{description:"build this workspaces dependencies, but not this workspace. Useful for running as part of a `dev` command."});this.onlyGitChanges=Z.Option.Boolean("--changes",!1,{description:"only build packages that were changed in the last commit"});this.onlyGitChangesSinceCommit=Z.Option.String("--since",{description:"only build packages that were changed since the given commit"});this.onlyGitChangesSinceBranch=Z.Option.String("--since-branch",{description:"only build packages that have changes compared to the give branch. Uses 'git diff --name-only branch...'",arity:1});this.onlyCurrent=Z.Option.Boolean("--only-current",!1,{description:"only build the current workspace"});this.buildTargets=Z.Option.Rest({name:"workspaceNames"});this.forceQuit=!1;this.buildLog={}}async execute(){var g,x;let t=await se.Configuration.find(this.context.cwd,this.context.plugins),{project:r,workspace:n}=await se.Project.find(t,this.context.cwd);if(!n)throw new Zt.WorkspaceRequiredError(r.cwd,this.context.cwd);let i=this.all?r.topLevelWorkspace:n,o=!1;i==r.topLevelWorkspace&&(o=!0);let s=[i,...this.buildTargets.length>0?i.getRecursiveWorkspaceChildren():[]];typeof this.onlyGitChangesSinceBranch=="string"?s=await pn({root:r.topLevelWorkspace,sinceBranch:this.onlyGitChangesSinceBranch}):(this.onlyGitChanges||this.onlyGitChangesSinceCommit)&&(s=await pn({root:r.topLevelWorkspace,commit:(g=this.onlyGitChangesSinceCommit)!=null?g:"1"})),Array.isArray(this.exclude)||(this.exclude=[]),this.excludeCurrent&&this.exclude.push(se.structUtils.stringifyIdent(n.locator)),!o&&this.onlyCurrent&&(this.maxConcurrency="1");let u=y=>{var C,w;return!o&&this.onlyCurrent?y!=n:(w=(C=this.exclude)==null?void 0:C.some(v=>yt.default.isMatch(se.structUtils.stringifyIdent(y.locator),v)||yt.default.isMatch(y.cwd,`${t.projectCwd}${hn.default.posix.sep}${v}`)))!=null?w:!1},a=y=>!o&&this.onlyCurrent?y==n:this.buildTargets.some(C=>yt.default.isMatch(se.structUtils.stringifyIdent(y.locator),C)||yt.default.isMatch(y.cwd,`${t.projectCwd}${hn.default.posix.sep}${C}`)),l=this.buildTargets.length>0?s.filter(a):s,c=await Do(t);this.continueOnError=(x=this.continueOnError)!=null?x:!!c.bail;let f=this.maxConcurrency===void 0?c.maxConcurrency:parseInt(this.maxConcurrency),p=await se.StreamReport.start({configuration:t,json:this.json,stdout:this.context.stdout,includeLogs:!0},async y=>{let C=async($,te,F,ue)=>{let M=new se.miscUtils.BufferStream;M.on("data",R=>F==null?void 0:F.emit(j.info,ue,R&&R.toString()));let T=new se.miscUtils.BufferStream;if(T.on("data",R=>F==null?void 0:F.emit(j.error,ue,R&&R.toString())),this.forceQuit)return M.destroy(),T.destroy(),M.end(),T.end(),2;try{let R=await this.cli.run(["run",$],{cwd:te,stdout:M,stderr:T})||0;return M.end(),T.end(),R}catch(R){M.end(),T.end()}return 2},w=new Zs({project:r,configuration:t,pluginConfiguration:c,report:y,runCommand:this.buildCommand,cli:C,dryRun:this.dryRun,ignoreRunCache:this.ignoreBuildCache,verbose:this.verbose,concurrency:f,continueOnError:this.continueOnError,excludeWorkspacePredicate:u});w.runReporter.on(j.forceQuit,()=>{this.forceQuit=!0}),await w.setup();for(let $ of l)await eu({targetWorkspace:$,project:r,supervisor:w});await w.run()===!1&&y.reportError(se.MessageName.BUILD_FAILED,"Build failed")});return Je.hasBeenTerminated=!0,p.exitCode()}};xt.paths=[["build"]],xt.usage=Z.Command.Usage({category:"Build commands",description:"build a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are built in the right order.

    `});var tu=xt;var Ct=class extends tu{constructor(){super(...arguments);this.buildCommand=bt.Option.String("-c,--command","test",{description:'the command to be run in each package (if available), defaults to "test"'});this.onlyCurrent=bt.Option.Boolean("--only-current",!0,{description:"only test the current workspace"})}};Ct.paths=[["test"]],Ct.usage=bt.Command.Usage({category:"Test commands",description:"test a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are tested in the right order.
      `});var ru=Ct;var vf={commands:[ru]},Af=vf;return _f;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
return plugin;
}
};
